\documentclass[10pt,a4paper,twoside]{scrreprt}
\usepackage[italian]{babel} 

\pagestyle{headings}

\addtolength{\voffset}{9mm}   %>>> moves text field down
\usepackage[latin1]{inputenc}   % Encodage ISO-8859-1.
\usepackage{graphicx}
\graphicspath{{images/}} 
\newcommand{\keyevidence}[1]{\fbox{#1}}

% Smaller italic font for marginpars
\let\oldmarginpar\marginpar
\renewcommand\marginpar[1]{\-\oldmarginpar[\raggedleft\footnotesize\it #1]%
{\raggedright\footnotesize\it #1}}

\usepackage{pgf}
\usepackage{hyperref}

\definecolor{webgreen}{rgb}{0,.5,0}
\definecolor{webbrown}{rgb}{.6,0,0}
\definecolor{Maroon}{cmyk}{0, 0.87, 0.68, 0.32}
\definecolor{RoyalBlue}{cmyk}{1, 0.50, 0, 0}

\usepackage{listings} 
\usepackage{makeidx}
\lstdefinelanguage{FIDOCAD} 
	{morekeywords={LI,PP,PV,TY,TE,MC,EV,EP,RP,RV,BE,SA,PA,PL,FCJ,FJC,CP,CV,%
		[FIDOCAD],[FIDOLIB]}, 
	sensitive=false, 
	morecomment=[s]{[}{]}, 
	morecomment=[s][\color{blue}]{\{}{\}}, 
	morecomment=[l][\color{violet}]{*},
	moredelim=[il][\color{violet}]{£},
} 

\lstset{language=FIDOCAD,%
	basicstyle=\small\ttfamily} 

% *******************************************************
% Hyperreferences
% *******************************************************
\hypersetup{%
    colorlinks=true, linktocpage=true, pdfstartpage=3, pdfstartview=FitV,%
    breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,%
    plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,%
    hypertexnames=true, pdfhighlight=/O,%hyperfootnotes=true,%nesting=true,%frenchlinks,%
    urlcolor=webbrown, linkcolor=RoyalBlue, citecolor=webgreen, %pagecolor=RoyalBlue,%
    % uncomment the following line if you want to have black links (e.g., for printing)
    %urlcolor=Black, linkcolor=Black, citecolor=Black, %pagecolor=Black,%
    pdftitle={FidoCadJ -- user manual},%
    pdfauthor={Davide Bucci},%
    pdfsubject={Comment utiliser FidoCadJ},%
    pdfkeywords={FidoCAD, FidoCadJ, CAD, electronics schematics, printed circuit boards},%
    pdfcreator={pdfLaTeX},%
    pdfproducer={LaTeX with hyperref and classicthesis}%
}
\lstset{frame=single,%
	backgroundcolor=\color{lightgray},
	keywordstyle=\color{RoyalBlue},
	breaklines=true
	}

\newcommand{\micron}{\,\mu\mathrm{m}}
\newcommand{\toprule}{\hline}

\newcommand{\midrule}{\hline}

\newcommand{\bottomrule}{\hline}

\title{\Huge\color{webbrown} FidoCadJ 0.24.3 \\ user manual} 

\author{Davide Bucci\\[3em]
\includegraphics[width=.7\textwidth]{icona_fidocadj_a}
}

 \makeindex


\begin{document}
\pagenumbering{roman}

\pdfbookmark[1]{Front}{Front}
\maketitle 

\clearpage
\pdfbookmark[1]{Licence}{Licence}


\clearpage{} \pdfbookmark[1]{Licenza}{Licenza} Quest'opera è protetta
dalla Creative Commons Public License, versione 2.5 o superiore. 
Il testo della licenza è disponibile all'indirizzo (in lingua Inglese)\\
 \href{http://creativecommons.org/licenses/by-nc-nd/3.0/}{http://creativecommons.org/licenses/by-nc-nd/3.0/}.

E' possibile riprodurre, diffondere, trasmettere o esporre in pubblico,
illustrare, eseguire o rappresentare quest'opera  alle condizioni seguenti:
\begin{description}
\item [{Attribution}] {E' necessario attribuire l'opera all'autore o al 
concessore nel modo specificato dagli stessi (e in nessun modo che possa portare
a credere che gli autori abbiano ceduto l'uso dell'opera.)}
\item [{Noncommercial}] {L'opera non è utilizzabile a fini commerciali.} 
\item [{No Derivative Works}] {Non è possibile modificare, trasformare o espandere l'opera.} 
\end{description}
Qualunque variazione alle condizioni riportate deve essere espressamente approvata dal dententore del copyright (Davide Bucci). \vfill{}

Tutti i nomi commerciali, i logo, i marchi depositati citati in quest'opera
sono registrati dai loro proprietari.


\begingroup %\let\clearpage\relax
%\let\cleardoublepage\relax
%\let\cleardoublepage\relax



\chapter*{Introduzione}

\pdfbookmark[1]{Introduzione}{Introduzione}

Questo documento è il manuale ufficiale di FidoCadJ. Dopo una breve
introduzione sulla storia e sulla nascita di questo software,
viene descritto l'uso di base di FidocadJ. L'obiettivo è di
apprendere il disegno di semplici schemi elettrici con i loro
relativi circuiti stampati.
Il manuale termina con una descrizione dettagliata del formato
interno di FidoCadJ (e di FidoCAD) e con alcuni consigli per 
la corretta installazione sui più comuni sistemi operativi: 
Linux, MacOSX e Windows.

\endgroup


\chapter*{Ringraziamenti}

\pdfbookmark[1]{Ringraziamenti}{Ringraziamenti}

Un certo numero di persone ha usato questo programma sin dalla sua
prima versione e mi ha aiutato fornendomi preziosi consigli. In tal senso
vorrei ringraziare i partecipanti del newsgroup\index{newsgroup} it.hobby.elettronica\index{it.hobby.elettronica} per le loro fruttuose discussioni. 

Questo programma è stato testato a fondo su Linux da Stefano Martini.
Egli è un alfa e beta tester molto scrupoloso! 
Vorrei anche ringraziare Olaf Marzocchi e Emanuele Baggetta 
per i test condotti su MacOSX. 

Ringrazio ``F. Bertolazzi'' per i preziosi consigli circa 
l'utilizzabilità del programma e per aver costruito una
compatibility library per CadSoft Eagle\index{Eagle}, utile
per esportare i disegni FidocadJ su Eagle.
 
Ringrazio ``Celsius'', che ha testato la parte del programma relativa
alla realizzazione dei PCB, comprese le librerie. 

Ringrazio Andrea D'Amore, per i suoi consigli riguardanti l'aspetto grafico
di FidoCad su Apple Macintosh, dalla versione 0.21.1 

Ringrazio Roby IZ1CYN per le interessanti discussioni riguardanti le librerie
e per aver scritto la sezione~\ref{installazione_linux} di questo manuale, 
riguardante la installazione su Linux\index{Linux}. 

Gli utenti Macintosh possono fruire di una versione di FidoCadJ ben integrata
al loro sistema operativo grazie a Quaqua\index{Quaqua} di Werner Randelshofer. 

Werner ha dato utili consigli circa l'interfaccia utente di FidocCadJ: grazie! 

Questo manuale è stato tradotto in Inglese da ``Pasu'', che vorrei ringraziare
per il lavoro svolto. Vorrei anche ringraziare ``qhg007'' per l'opera di
controllo svolta e per le utilissime osservazioni.
  
Da Aprile 2010, FidoCadJ è stato integrato nel ben noto sito Italiano
\href{http://www.electroyou.it}{www.electroyou.it}, sul quale gira 
silenziosamente, convertendo magicamente i disegni postati sul forum dai suoi
utenti. 
Vorrei esprimere la mia gratitudine all'amministratore Zeno Martini e al
webmaster Nicolò Martini e a tutti gli altri utenti di quel sito per avermi
dato moltissime idee per il controllo batch di FidoCadJ: è stata tracciata
una via molto promettente che merita di essere esplorata a fondo.
Più recentemente è nata la classe FidoReadPHP, che legge e interpreta i
disegni FidoCadJ su un server PHP. E' stata implementata dal noto sito \href{http://www.grix.it}{www.grix.it}\index{www.grix.it} grazie ad Arniek e Sstrix. 
Gloria a voi!

\chapter*{Licenza FidoCadJ}

\pdfbookmark[1]{License FidoCadJ}{License FidoCadJ}

Copyright \copyright\ 2007-2012 Davide Bucci \href{mailto:davbucci@tiscali.it}{davbucci@tiscali.it}

Questo programma è gratuito: è possibile distribuirlo e/o modificarlo
entro i termini della GNU General Public License emessa dalla
Free Software Foundation, versione 3.
 
Questo programma è distribuito nella speranza che possa essere utile,
ma SENZA ALCUNA GARANZIA; senza neppure la garanzia implicita di COMMERCIABILITA' o IDONEITA' PER UN PARTICOLARE SCOPO.
Riferirsi alla GNU General Public License per ulteriori dettagli.  

L'utente dovrebbe aver ricevuto una copia della GNU General Public License. Qualora non sia così è possibile reperirla presso \href{http://www.gnu.org/licenses/}{http://www.gnu.org/licenses/}.

\tableofcontents
\pdfbookmark[1]{Indice dei contenuti}{Indice dei contenuti}

\listoffigures
\pdfbookmark[1]{Elenco delle figure}{Elenco delle figure}

\begingroup
\let\clearpage\relax
\let\cleardoublepage\relax
\let\cleardoublepage\relax
\listoftables
\pdfbookmark[1]{Lista delle tabelle}{Lista delle tabelle}

\endgroup

\chapter{Introduzione} \pagenumbering{arabic} In questo capitolo
introdurremo brevemente FidoCadJ. In particolare, analizzermo la
filosofia alla base del programma, come anche una breve descrizione
storica del suo sviluppo.  

\section{Filosofia FidoCadJ}

FidoCAD\index{FidoCAD} (senza la J alla fine) era un programma di disegno
vettoriale particolarmente adatto al disegno di schemi elettrici\index{schemi elettrici} e di circuiti stampati\index{PCB}. Era particolarmente diffuso
nella comunità Usenet italiana degli anni novanta.

E' possibile scaricarne gratuitamente una versione Windows\index{Windows}
in lingua Italiana dalla pagina web di Lorenzo Lutti\index{Lorenzo Lutti}: 

\href{http://www.enetsystems.com/~lorenzo/fidocad.asp}{http://www.enetsystems.com/\textasciitilde lorenzo/fidocad.asp}

I file generati da questo programma sono testuali e compatti.
Questa caratteristica rende possibile includere disegni in
messaggi di testo, come quelli usati nei gruppi non binari Usenet\index{Usenet group}. 

Sfortunatamente, FidoCAD esiste solo in versione Windows\index{Windows}.
Gli utenti Linux hanno la possibilità di farlo girare usando WInE\index{WInE},
ma per coloro che utilizzano altre piattaforme (io uso MacOSX) questo non è possibile. 
Ho quindi deciso di portare il mio piccolo contributo alla comunità Usenet
scrivendo FidoCadJ (con, stavolta, la J finale). Questo editor è scritto
completamente in Java\index{Java} ed è completamente multipiattaforma.
FidoCadJ permette di visualizzare e di modificare un disegno utilizzando
il formato FidoCAD\index{FidoCAD}.

I vecchi utenti FidoCAD\index{FidoCAD} imparano ad usare FidoCadJ rapidamente
poichè molti comandi e procedure sono piuttosto simili alla applicazione
originale. Al momento della stesura di questo manuale, allo stato dei fatti a mia conoscenza, FidoCadJ è pienamente compatibile con l'originale FidoCAD tranne alcuni dettagli.
L'obiettivo della piena compatibilità è stato ricercato il più possibile,
ma, recentemente, le necessità di acuni nuovi utenti hanno spinto verso
l'implementazione di nuove estensioni al formato originale.  

Alcune delle funzioni offerte da FidoCadJ che non sono presenti nel 
programma originale sono le capacità di esportare formati.
Poichè io sono un utente \LaTeX{}, ho deciso di includere una
funzione di esportazione verso un certo numero di formati vettoriali,
incluso l'Encapsulated PostScript (\textsc{EPS}\index{EPS}).
Certamente FidoCadJ può esportare anche verso il ben noto formato \textsc{PDF}\index{PDF}. 
Un altro formato di file utile per gli schemi elettrici è CadSoft
Eagle script\index{CadSoft Eagle}, che è disponibile dalla versione 0.21 di FidoCadJ. In questo modo, uno schema elettrico disegnato con FidoCadJ può essere esportato su Eagle.
L'appendice~\ref{specifics} descrive brevemente come installare FidoCadJ sui più comuni sistemi operativi.

\section{Storia di questo programma}

Mi interesso da tempo di circuiti elettronici. Da quanto ho cominciato a seguire diversi gruppi Usenet\index{newsgroups}, ho notato che molti schemi elettrici venivano distribuiti usando il formato FidoCAD per Windows\index{FidoCAD}.
Questo permetteva di evitare gli scomodi disegni ASCII. 
Da qualche anno non uso più Windows, quindi è stato praticamente impossibile per me riuscire a decifrarli, così ho voluto provare a risolvere il problema. 
\marginpar{A proposito, credo che sia meglio lavorare per trovare una soluzione piuttosto che affermare che un sistema operativo differente da Windows sia carente di software.}

La prima cosa che ho fatto è stata quella di studiare il formato di file utilizzato da FidoCAD\index{FidoCAD} e scrivere una applet Java\index{Java} chiamata FidoReadJ\index{FidoReadJ}, capace di analizzare un circuito e di mostrarlo in una pagina web. Ho cominciato cercando ovunque (vecchi post, pagine web) facendo molto reverse engineering sui file FidoCAD esistenti. 
Ho scaricato i sorgenti FidoCAD, scritti in un C++ molto pulito da Lorenzo Lutti.
Ho fatto questo lavoro intorno a Marzo 2007. Qualche mese dopo, la applet era online ed era già stata testata da una parte della comunità di it.hobby.elettronica\index{it.hobby.elettronica} e di it.hobby.fai-da-te\index{it.hobby.fai-da-te}.%
\footnote{FidoReadJ\index{FidoReadJ} è ancora disponibile all'indirizzo:\\
 \href{http://davbucci.chez-alice.fr/index.php?argument=elettronica/fidoreadj/fidoreadj.inc\&language=Francais}{http://davbucci.chez-alice.fr/index.php?argument=elettronica/fidoreadj/fidoreadj.inc}.%
}

Fin da quando ho un interprete\index{interprete} per il formato FidoCAD,
mi sono interessato a continuare il lavoro in modo da ottenere un editor completo\marginpar{a dire il vero, il primo tentativo di fare un sistema di disegno vettoriale risale al 1993.} La maggior parte del lavoro è stato fatto in diversi passi, tra Gennaio e Luglio 2008. FidoCadJ non è un adattamento o un porting di FidoCAD per Windows, ma è un programma completamente riscritto.

La scelta di usare Java\index{Java} è dovuta al fatto che negli ultimi anni ho cambiato diversi sistemi operativi. Impegnare del tempo su qualcosa di non completamente portabile non mi sembrava molto interessante.
Lo sforzo profuso all'apprendimento dell'ambiente Cocoa avrebbe dato dei risultati migliori su MaxOSX, ma avrebbe reso FidoCadJ completamente non portabile. Non mi dedico interamente al computer e il tempo speso a programmare è tempo portato via ai miei interessi verso l'elettronica. 

Infatti, una semplice analisi al codice sorgente di FidoCadJ dimostra che io non sia un vero programmatore purista Java\index{Java} e orientato agli oggetti\index{Object oriented programming} e sono sicuro che molte soluzioni adottate siano più pratiche che eleganti.  

In definitiva la cosa importante è l'usabilità del programma da parte dell'utente, più che una scelta specifica di un linguaggio di programmazione.
Per questa ragione sono sempre attento ai suggerimenti, in modo da comprendere come proseguire lo sviluppo del progetto. 
Ricapitolando, so che Java\index{Java} non è la scelta perfetta o la soluzione ad ogni problema. Comunque sono sicuro che la sua cattiva nomea derivi da applicazioni mal scritte, le quali non sono ben integrate con l'ambiente dell'utente.

% La parte interamente tradotta da Pasu comincia qui.
Senza voler arrivare alla perfezione, conoscendo i miei limiti di programmatore, il mio intento è stato quello di voler fare in modo che FidoCadJ NON fosse un altra applicazione di scarsa qualità. Per questa ragione ogni segnalazione relativa a qualche bug o all'usabilità del programma sarà molto apprezzata. 

Da Novembre 2009 ho aperto un progetto SourceForge\index{SourceForge} dedicato a FidoCadJ. 
Da quella pagina potrete scaricare qualunque eseguibile, manuale e anche il codice sorgente. Potrete partecipare attivamente allo sviluppo di FidoCadJ lavorando sul suo codice sorgente usando Subversion (SVN) oppure il SVN browser predisposto da SorceForge: 

 \href{http://fidocadj.svn.sourceforge.net/viewvc/fidocadj/}{http://fidocadj.svn.sourceforge.net/viewvc/fidocadj/} 

Se volete contribuire alla comunità FidoCadJ, non dovete preoccuparvi: non dovete essere esperti nella programmazione Java. Potrete, per esempio, tradurre l'interfaccia utente o il manuale in un'altra lingua, controllare il manuale esistente per trovare incongruenze, refusi o errori. FidoCadJ è disponibile, attualmente, in Italiano\index{Italiano}, Francese\index{Francese}, Inglese\index{Inglese}, Spagnolo\index{Spagnolo}, Tedesco\index{Tedesco}, Cinese\index{Cinese}, Giapponese\index{Giapponese} e Olandese\index{Olandese}.

E' piuttosto semplice tradurre i menu e i comandi, quindi, se vi facesse piacere vedere FidoCadJ nella vostra madrelingua, fatemelo sapere! 

C'è anche del lavoro da fare per tradurre le librerie (almeno quella standard) e, ovviamente, il manuale.%

Potete anche lavorare alla libreria standard\dots\

C'è da considerare che solo metà del mio tempo libero che dedico a FidoCadJ viene usato per programmare. Il resto viene speso per rispondere a domande degli utenti, scrivere e migliorare la documentazione e così via.
Su SourceForge\index{SourceForge}, potete partecipare ai forum, scrivere delle recensioni sul programma e anche suggerire miglioramenti o segnalare dei bug: 

\href{http://sourceforge.net/projects/fidocadj/}{http://sourceforge.net/projects/fidocadj/}

\section{FidoCadJ e il futuro}

Ad Aprile 2010, sono capitato casualmente in una discussione sul ben noto sito Italiano \href{http://www.electroyou.it}{www.electroyou.it}. 
Un utente, Piercarlo Boletti, proponeva di integrare uno strumento per il disegno elettrico direttamente dentro il forum; più o meno come era già stato fatto per le equazioni \LaTeX\index{LaTeX@\LaTeX}.

Poichè FidoCadJ era stato citato nel suo intervento, mi sono iscritto al forum e mi sono offerto di collaborare. Ho interagito con il gentilissimo webmaster per qualche giorno e voilà, il sistema è stato reso operativo: un semplice copia-incolla nel post del codice che descrive il disegno, entro un paio di tag, e il software che fa girare FidoCadJ sul forum restituisce una immagine, direttamente dal codice.
Questa immagine viene mostrata nel post sul forum, ma il suo codice sorgente rimane comunque disponibile.
In questo modo il lettore della discussione non deve avere alcunchè installato sul proprio computer per visualizzarla, ma, qualora desideri apportare delle modifiche, può ottenere il codice con pochi click. 

Figure~\ref{fig_discussione_electroyou} mostra parte di un mio post scritto su  \href{http://www.electroyou.it}{www.electroyou.it}. 
Questo sistema è così potente e flessibile che io stesso sono stato il primo ad essere sorpreso dall'entusiasmo dimostrato dagli utenti! \footnote{qui si trova l'articolo che scrissi, in Italiano:\\ \href{http://www.electroyou.it/darwinne/wiki/fidocadj}{http://www.electroyou.it/darwinne/wiki/fidocadj}	 } 
FidoCadJ ha dimostrato di essere utile anche per disegni non direttamente collegati all'elettronica (vai all'appendice \ref{chap_fidocadj_art} per capire cosa intendo).
 	 
\begin{figure}
 \includegraphics[width=\textwidth]{discussione_electroyou.png}
 \caption{Parte di uno dei miei post su \href{http://www.electroyou.it}{www.electroyou.it}\index{www.electroyou.it}.
 
Con un semplice click è possibile fare lo zoom sullo schema. Con un secondo è possibile ottenere il codice sorgente, che è possibile incollare su FidoCadJ per apportare modifiche.}
\label{fig_discussione_electroyou}
\end{figure}

Il successo che ha avuto FidocadJ su \href{http://www.electroyou.it}{www.electroyou.it}\index{www.electroyou.it} ha stimolato altre richieste di implementazione su altre piattaforme, in particolare su \href{http://www.grix.it}{www.grix.it}\index{www.grix.it}, un altro ben noto sito Italiano dedicato all'elettronica. FidoCadJ è anche usato dalla comunità di \href{http://www.matematicamente.it/forum/viewtopic.php?f=38&t=121249}{Matematicamente}\index{Matematicamente}.
Relativamente a \href{http://www.grix.it}{www.grix.it}\index{www.grix.it}, il server non può far girare un programma Java, così è stata scritta la classe FidoReadPHP che può essere fatta girare da un interprete PHP, per ottenere le immagini dal codice sorgente FidoCadJ. 
Il progetto FidoReadPHP è open source ed è disponibile su SourceForge:

\href{https://sourceforge.net/projects/fidoreadphp/}{https://sourceforge.net/projects/fidoreadphp/}

Il risultato è piuttosto simile a quello ottenuto su \href{http://www.electroyou.it}{www.electroyou.it}, anche se le capacità del PHP sono piuttosto limitate rispetto al Java. 

\footnote{Ecco l'articolo in Italiano:\\
\href{http://www.grix.it/viewer.php?page=9335}{http://www.grix.it/viewer.php?page=9335}}
Figure~\ref{fig_fidocadj_grix3} mostra qualche esempio di disegno ottenuto con FidoReadPHP.

\begin{figure}
 \includegraphics[width=\textwidth]{fidocadj_grix3.png}
 \caption{Une esempio di un disegno FidocCadJ integrato in un post sul forum \href{http://www.grix.it}{www.grix.it}\index{www.grix.it}.E' possibile ottenere il sorgente del codice con un semplice click.}
 \label{fig_fidocadj_grix3}
\end{figure}

Io credo che il futuro di FidoCadJ non sarà più complesso di così, come CAD completo per elettronica. Probabilmente, l'integrazione con i gruppi di discussione e i forum potrebbero essere sviluppati. Il cammino intercorso ha mostrato che questo è possibile e che l'entusiasmo degli utenti è stato stimolante.

\chapter{Disegnare con FidoCadJ}
L'uso di FidoCadJ dovrebbe essere intuitivo per coloro che hanno già utilizzato una applicazione di disegno vettoriale\index{disegno vettoriale}. Una videata del programma su MacOSX\index{MacOSX} è riportata in in Fig.~\ref{fig_fidocadj};\marginpar{Gli utenti Mac esperti noteranno che tutti i menu sono al loro posto!} Alcuni dettagli potrebbero essere diversi quando il programma gira su altri sistemi operativi (Per esempio Fig.~\ref{fig_metal} mostra il risultato con Look and Feel Metal\index{Metal} su Sun/Oracle\index{Sun/Oracle}), ma la filosofia è sempre la stessa.  
Vedremo quali sono le caratteristiche del programma e i suoi elementi di base (le primitive)\index{primitive} che formano un disegno FidoCadJ. % 

\begin{figure}
\includegraphics[width=1\textwidth]{fidocadj_macosx.png} 

\caption{Una tipica sessione FidoCadJ che gira su MacOSX Tiger\index{MacOSX}.
Appendix~\ref{specifiche} descrive le peculiarità della versione specifica per Macintosh\index{Macintosh}.}

\label{fig_fidocadj} 
\end{figure}


%
\begin{figure}
\includegraphics[width=1\textwidth]{fidocadj_metal.png} 

\caption{FidoCadJ con Look e Feel Metal\index{Metal}.}


\label{fig_metal} 
\end{figure}



\section{Strumenti di disegno}

Nella barra degli strumenti\index{barra degli strumenti} (in cima alla finestra), possiamo trovare gli strumenti che permettono la creazione e la modifica di un disegno. Table~\ref{tab_comandi} mostra un breve riassunto delle funzionalità e dei comandi e ne descrive l'uso possibile. 
Si può notare che, una volta premuto il tasto, esso rimarrà selezionato finchè non si selezionerà un'altra funzione dalla barra degli strumenti.\marginpar{ Questo modo di fare è ispirato alle vecchie radio a valvole termoelettroniche e ai loro selettori moda anni 70} Dalla barra degli strumenti è possibile selezionare quale primitiva di disegno\index{primitiva} usare.%
\footnote{Per altre informazioni sugli elementi di disegno, vedere ~\ref{sec_primitive}.%
} Sulla destra, un menu a discesa mostrerà il livello corrente 
(vedere~\ref{sec_layer} per ulteriori informazioni).

La barra di comando\index{barra di comando} può essere pazialmente personalizzata. In particolare è possibile scegliere dove posizionare l'icona per ogni tasto o l'icona e la sua descrizione testuale. Le icone sono selezionabili in due due diversi formati. Per cambiare queste impostazioni vedere il menu {}``File/Options''.% 

\footnote{Ad eccezione di MacOSX, dove queste impostazioni si trovano nel meni di FidoCadJ e sono chiamate {}``Preferences''.%

} Qualunque cambiamento nelle impostazioni verrà applicato al riavvio dell'applicazione, poichè è poco probabile che si apportino cambiamenti tutti i giorni. 
Le figure \ref{fig_fidocadj} e \ref{fig_metal} mostrano la barra dei comandi (a destra sotto la barra del titolo), configurata per mostrare testo e icone nella loro versione più piccola. Sulla seconda riga, partendo da sinistra possiamo vedere le impostazioni per lo zoom e i pulsanti {}``Fit'',{}``Show grid'' e {}``Snap to grid''. Il primo permettte di selezionare automaticamente il miglior zoom per mostrare tutto il disegno sullo schermo. Il secondo permette di commutare la visibilità della griglia, mentre il terzo permette di selezionare se l'elemento prescelto debba essere posizionato sul punto di griglia più vicino o no. 
Nel caso in cui ci sia il bisogno di posizionare con precisione gli elementi, è possibile premere il tasto \keyevidence{Alt} e utilizzare i tasti cursore.


%
\begin{table}
\centering \begin{tabular}{clp{0.5\textwidth}}
\toprule Tasto & Comando  & Uso\tabularnewline
\midrule

\keyevidence{A} o \keyevidence{Barra Spaziatrice} & \raisebox{-.2em}{\includegraphics[width=1em]{icons/arrow}}
\textsc{Select}\index{Seleziona}  & Seleziona uno o più elementi grafici. Premere \keyevidence{Control}
(\keyevidence{Command} solo su MacOSX) per selezioni multiple
o per deselezionare un elemento. Cliccare e trascinare per selezionare diversi
elementi in un'area. Premere \keyevidence{R} per ruotare un elemento selezionato. Premere \keyevidence{S} per specchiare un elemento selezionato.
Fare doppio click su un elemento per modificare le sue proprietà.\tabularnewline
 & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/magnifier}}
\textsc{Zoom}\index{zoom}  & Cliccare col tasto sinistro per incrementare lo zoom. Cliccare col destro per decrementarlo. \tabularnewline
 & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/move}}
\textsc{Move}\index{move}  & Cliccare sul disegno e muovere il mouse per muovere il disegno. \tabularnewline
\keyevidence{L}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/line}}
\textsc{Line}\index{line}  & Inserisce una linea o una serie di linee. Premere \keyevidence{Esc} o
fare doppio click per terminare l'inserimento
%\footnote{In FidoCadJ versione precedente alla 0.20.5, un click col tasto destro faceva passare al modo ``Select''}
\tabularnewline
\keyevidence{T}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/text}}
\textsc{Text}\index{text}  & Inserisce una stringa testuale.\tabularnewline
\keyevidence{B}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/bezier}}
\textsc{Bézier}\index{Bézier}  & Disegna una curva Bézier\tabularnewline
\keyevidence{P}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/polygon}}
\textsc{Polyline}\index{polyline}  & Disegna un poligono. Un doppio click o una pressione del tasto \keyevidence{Esc} fanno terminare l'inserimento di nuovi vertici.\tabularnewline
\keyevidence{K}
&
\raisebox{-.2em}{%
\includegraphics[width=1em]{icons/complexcurve}%
}
\textsc{Curve}\index{curve}
&
Curva spline aperta o chiusa. Un doppio click o una pressione del tasto \keyevidence{Esc} fanno terminare l'inserimento di nuovi vertici.\tabularnewline

\keyevidence{E}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/ellipse}}
\textsc{Ellipse}\index{ellipse}  & Disegna una ellisse, piena o vuota (Tenere premuto il tasto \keyevidence{Control} per disegnare un cerchio). \tabularnewline
\keyevidence{G}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/rectangle}}
\textsc{Rect.}\index{rectangle}  & Disegna un rettangolo pieno o vuoto.(Tenere premuto il tasto \keyevidence{Control} per disegnare un quadrato). \tabularnewline
\keyevidence{C}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/connection}}
\textsc{Junction}\index{junction}  & Inserisce una connessione elettrica.\tabularnewline
\keyevidence{I}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/pcbline}}
\textsc{PCB track}\index{PCB track}  & Disegna una traccia PCB. La larghezza preimpostata può essere modificata accedendo al menu {}``File/Options''. \tabularnewline
\keyevidence{Z}  & \raisebox{-.2em}{\includegraphics[width=1em,]{icons/pcbpad}}
\textsc{PCB pad}\index{PCB pad@\textsc{PCB }pad}  & Disegna una piazzola PCB. La dimensione preimpostata può essere modificata accedendo al menu {}``File/Options''.  \tabularnewline
\bottomrule  &  & \tabularnewline
\end{tabular}

\caption{Sommario dei comandi di disegno disponibili in FidoCadJ. I tasti mostrati sulla colonna sinistra permettono la loro rapida selezione attraverso la tastiera. Un click col tasto destro in una delle modalità di inserimento delle primitive permette di accedere alla finestra delle proprietà.}


\label{tab_comandi} 
\end{table}

Sulla destra vengono mostrate in una lista ad albero i simboli \index{macro}
(anche chiamate macro) delle librerie caricate. Per inserire nel disegno un elemento
da una libreria, è sufficiente selezionarlo dalla lista e posizionarlo, cliccando, sul disegno.
Le librerie FidoCAD\index{FidoCAD} includono tutti i simboli standard utilizzati negli schemi elettrici  
\index{schemi elettrici} e una larga scelta di footprint\index{PCB!footprint} per il disegno di PCB.

E' possibile anche effettuare ricerche rapide\index{ricerche rapide} nelle librerie caricate in FidoCadJ. E' sufficiente digitare qualcosa nella area di testo che compare sopra la lista ad albero che rappresenta le librerie installate (riferirsi alla figura~\ref{fig_ricerca}) 
Con i tasti cursore è possibile spostarsi all'interno dei risultati trovati.

\begin{figure}
\centering
\includegraphics[width=.4\textwidth]{ricerca}
\caption{La funzione di ricerca per le librerie installate.}
\label{fig_ricerca}
\end{figure}
%
\begin{figure}
\centering \includegraphics[width=0.7\textwidth,]{param_testo} 

\caption{Finestra di dialogo per i parametri testuali di un disegno FidoCadJ.}


\label{fig_param_testo} 
\end{figure}


La figura~\ref{fig_param_testo} mostra un esempio di cosa può essere ottenuto,
facendo un doppio-click, nel modo seleziona\index{seleziona}, su un elemento del disegno
(in questo caso una stringa di testo). Attraverso questa finestra è possibile modificare
tutti i parametri (coordinate,rotazioni\dots) di ogni elemento del disegno.
L'aspetto di questa finestra è variabile perchè le proprietà che possono essere modificate
dipendono dall'elemento selezionato.

\section{un semplice schema elettrico}

Volendo fare un esempio d'uso di questa applicazione, mostreremo come
disegnare il semplice schema elettrico di figura~\ref{fig_schema}. %

\begin{figure}
\centering %\includegraphics[width=.5\textwidth]{schema}
\input{images/schema.pgf} 

\caption{Lo schema elettrico di riferimento: uno specchio di corrente realizzato con transistori NPN.}


\label{fig_schema} 
\end{figure}

Avendo FidoCadJ aperto, apriamo un nuovo disegno utilizzando il menu
{}``File/New''.

Cominciamo disponendo nell'area di disegno i simboli per i due
transistori\index{transistor}, attorno ai quali è costruito il nostro
schema elettrico. 
Per fare ciò possiamo utilizzare le macro contenute nella libreria standard 
\index{standard library}, la quale viene caricata automaticamente all'avvio
e si trova sulla parte destra dello schermo. La macro di cui abbiamo bisogno
è chiamata {}``NPN transistor'' ed è inclusa nella categoria {}``Diodes
and transistors'' nella {}``Standard library''. 
Cliccando sul nome dell'elemento da selezionare è possibile piazzare la macro\index{macro} desiderata
in una coordinata qualunque del disegno (FidoCadJ visualizzerà un'anteprima), cliccando una seconda
volta si opererà il piazzamento alla coordinata desiderata.
A questo punto il disegno dovrebbe essere simile a quello mostrato in figura ~\ref{fig_fidocadj_fase1}.

%
\begin{figure}
\includegraphics[width=1\textwidth,]{fidocadj_fase1} 

\caption{Cominciamo a disegnare la coppia di transistori.}


\label{fig_fidocadj_fase1} 
\end{figure}

Possiamo osservare che il transistore bipolare sulla sinistra non è
orientato correttamente. Per risolvere questo problema è sufficiente
cliccare su {}``Select'', dalla barra degli strumenti, selezionare il
transistore (che verrà evidenziato in verde. Verranno visualizzati anche i suoi tre punti di controllo,
identificati da tre piccoli quadrati rossi) e premere il stato \keyevidence{S} per ottenerne una versione
specchiata. E' anche possibile premere il tasto \keyevidence{S} subito dopo aver selezionato il simbolo dalla
libreria, al momento del posizionamento. Si otterrà un risultato simile a quello mostrato in figura ~\ref{fig_fidocadj_fase2}.

%
\begin{figure}
\includegraphics[width=1\textwidth,]{fidocadj_fase2} 

\caption{Selezionare e specchiare con il tasto \keyevidence{S} il transistore sulla sinistra.}


\label{fig_fidocadj_fase2} 
\end{figure}

Usando lo strumento {}``Line'' dalla barra degli strumenti\index{barra degli strumenti} è
possibile disegnare le connessioni elettriche, almeno fino a quando non si arriva troppo 
vicino ai bordi dell'area di disegno.
Il problema può essere facilmente risolto selezionando l'intero disegno: usando il modo {}``Select''
si può cliccare sul bordo superiore sinistro del disegno e, tenendo premuto il tasto sinistro del mouse,
trascinare il cursore fino al bordo inferiore destro. Apparirà un rettangolo dal perimetro verde per 
indicare che stiamo selezionando tutti gli elementi in esso inclusi.  
Per poter spostare tutto quanto abbiamo disegnato finora, come prima cosa, è necessario selezionarlo (see figure~\ref{fig_fidocadj_fase3}).
Successivamente sarà possibile, cliccando su un elemento selezionato qualunque, trascinare la selezione nella posizione desiderata.
 
%
\begin{figure}
\includegraphics[width=1\textwidth,]{fidocadj_fase3} 

\caption{Siamo troppo vicini al confine superiore del foglio di disegno, selezioniamo quindi l'intero disegno e spostiamolo verso il centro}


\label{fig_fidocadj_fase3} 
\end{figure}

E ' ora possibile continuare a piazzare le altre parti del circuito, in particolare un resistore \index{resistore} (Standard Library/Discrete devices/Resistor)
e il terminale per l'alimentazione positiva (Standard Library/Basic symbols/Terminal +). E' necessario quindi ruotarlo in modo da piazzarlo nella posizione desiderata. Nuovamente è possibile selezionarlo e quindi premere il tasto \keyevidence{R} fino a che si è ottenuto il risultato desiderato.
Dovremmo ora avere ottenuto una schermata simile a quella di figura~\ref{fig_fidocadj_fase4}.

%
\begin{figure}
\includegraphics[width=1\textwidth,]{fidocadj_fase4} 

\caption{Il circuito quasi completato.}


\label{fig_fidocadj_fase4} 
\end{figure}

Per completare lo schema elettrico è sufficiente aggiungere una stringa testuale e le frecce per indicare la direzione della corrente.
Per quest'ultima è disponibile una macro chiamata {}``Arrow'', contenuta in {}``Standard library/Basic symbols''. 
Per piazzare il testo, è possibile premere il tasto {}``Text''\index{text} dalla barra degli strumenti e cliccare
nell'area di disegno nella posizione desiderata. Verrà stampato il testo predefinito {}``String'' che è possibile
modificare, in modalità selezione, facendoci doppio click sopra (si veda la figura~\ref{fig_param_testo}). 
La sigla del transistor e il suo nome di riferimento utilizzati (nel nostro esempio si fa riferimento ad una coppia
di transistor appaiata) vengono specificati nei campi {}``Name'' e {}``Value'' a cui si può accedere tramite la 
modalità selezione facendo doppio click sulla macro.%

\footnote{L'opzione che permette di aggiungere un nome ed un valore ad una macro o ad un simbolo di un componente è
una estensione introdotta con FidoCadJ\index{Estensioni FidoCadJ} non presenti nel FidoCAD\index{FidoCAD} originale.
Confrontare la sezione~\ref{FCJ_extension} per altre informazioni riguardanti la compatibilità.%
}  

La dimensione suggerita per lavorare con i circuiti elettrici è di 
4 unità in verticale e di 3 unità in orizzontale. 
Il circuito completo è mostrato in figura~\ref{fig_fidocadj_fase5}.

%
\begin{figure}
\includegraphics[width=1\textwidth,]{fidocadj_fase5} 

\caption{Il circuito finale.}


\label{fig_fidocadj_fase5} 
\end{figure}

A titolo di curiosità viene qui riportato il codice\index{codice} che descrive
il circuito del nostro esempio. Per accedere al codice è sufficiente selezionare
{}``Insert Circuit'' dal menu {}``Circuit''.
E' ora possibile copiare ed incollare il circuito in un messaggio e-mail
\index{e-mail}, in un newsgroup\index{newsgroup}, o in un forum\index{forum}.
\begin{lstlisting}
[FIDOCAD]
MC 95 65 0 0 280
FCJ
TY 115 60 4 3 0 0 0 * Q1B
TY 115 65 4 3 0 0 0 * LM394
MC 55 65 0 1 280
FCJ
TY 20 60 4 3 0 0 0 * Q1A
TY 20 65 4 3 0 0 0 * LM394
LI 55 65 95 65 0
LI 40 75 40 95 0
LI 110 75 110 95 0
LI 40 40 40 55 0
MC 40 30 0 0 115
LI 40 15 40 30 0
LI 30 15 40 15 0
MC 30 15 2 0 010
LI 40 50 60 50 0
LI 60 50 60 65 0
SA 60 65 0
SA 40 50 0
LI 110 45 110 55 0
LI 110 35 110 40 0
LI 110 25 110 30 0
MC 40 95 0 0 040
MC 110 95 0 0 040
TY 45 30 4 3 0 0 0 * 10 k
TY 115 50 4 3 0 0 0 * I
MC 110 50 1 0 074
\end{lstlisting} 
Se si è interessati al formato di esportazione utilizzato da FidoCad si può
consultare il capitolo~\ref{chap_formato}.

In realtà non è necessario usare il comando {}``Insert circuit'';
è possibile semplicemente selezionare l'intero disegno con \keyevidence{Ctrl+A}, copiarlo
(selezionando ``edit/copy'' o premendo \keyevidence{Ctrl+C} ) e incollarlo
nel messaggio in fase di scrittura per fare in modo che il codice sia aggiunto automaticamente \index{codice}.

In funzione delle impostazioni programmate, FidoCadJ potrebbe applicare uno spostamento diagonale\index{spostamento diagonale} agli elementi copiati e incollati.
Le distanze $x$ e $y$ sono uguali alla distanza di un punto di griglia. Il comportamento predefinito è quello di procedere in questo modo, per
differenziare gli elementi incollati da quelli originali. In alcune situazioni questo potrebbe essere inutile e problematico, ma queste
impostazioni possono essere cambiate tramite il menu ``Options''.

\section{I livelli}

\label{sec_layer} Un modo per immaginare i livelli\index{livello} è quello di
immaginare un disegno stampato su un foglio acetato. Il disegno definitivo sarà
dato dalla combinazione di tutti i livelli, che saranno sovrapposti come i
fogli di acetato. Ogni livello è caratterizzato da un diverso colore e può essere
visibile o invisibile. Questo approccio è comune a molti sistemi CAD\index{CAD},
poichè permette una rappresentazione e una gestione semplice di diverse parti di 
un disegno che possono essere sovrapposte, come per esempio in un progetto di un PCB\index{PCB}.

FidoCadJ supporta fino a 16 livelli, numerati da 0 a 15. Convenzionalmente,
alcuni livelli hanno uno scopo specifico. In particolare, il livello zero è
usato per gli schemi elettrici\index{schemi elettrici}, il livello uno per il
rame lato saldature\index{saldature}, il livello due per il rame lato componenti e
il lato tre per il silk-screen\index{silk-screen}.
I livelli rimanenti non hanno uno scopo prefissato e possono essere utilizzati liberamente.

Il nome e il colore\index{colore} di ogni livello può essere specificato tramite il menu {}``View/Layer''. 
Dallo stesso menu è possibile selezionare i livelli da mostrare sullo schermo o da stampare.

L'ordine dei livelli è importante, poichè un livello con un numero inferiore verrà disegnato per primo.
I livelli successivi copriranno i livelli di ordine più basso.

\section{La griglia}

L'unità logica\index{unità logica} in FidoCadJ è 5 mil (127 micron)
e le ``mezze unità'' non sono permesse, poichè le coordinate di ogni 
elemento grafico devono essere numeri interi. Questo permette di ottenere
una risoluzione\index{risoluzione} sufficientemente fine per il disegno
di uno schema elettrico e della stragrande maggioranza dei PCB.
In ogni caso, per facilitare il disegno, l'applicazione permette di selezionare
una griglia meno fine, che forza il mouse ad allinearsi con il punto più vicino
alla griglia stessa\index{griglia}.

Per abilitare questa funzionalità sono presenti due tasti,  {}``Show Grid''
e {}``Snap'', che permettono di commutare tra griglia visibile/invisibile e di
forzare il cursore del mouse a spostarsi sulla griglia o a lasciarlo libero di muoversi,
rispettivamente. 
La granularità della griglia può essere impostata tramite una finestra di dialogo alla
quale è possibile accedere dal menu ``File/Options''.


\section{un semplice PCB}


\marginpar{E' il lettore che trova la proprio modus operandi: qualche scarabocchio su un foglio
e una matita (e un sacco di cancellature) faranno risparmiare del tempo perchè daranno una
idea chiara di come procedere usando il computer.} 
Per fare pratica con quanto finora appreso, vedremo come progettare un semplice PCB.
Diversamente da altri software per il CAD elettronico, i quali sono molto potenti e
talvolta difficili da gestire, FidoCadJ è la versione elettronica dei buoni vecchi 
trasferibili R41\index{trasferibili R41}.
Chiaramente avendo a disposizione un calcolatore avremo a disposizione tutta la flessibilità
offerta dalla macchina.

Degno di nota è che il progetto di un PCB\index{PCB}, in particolar modo se complesso,
non è un compito semplice.
Il piazzamento automatico\index{piazzamento automatico} e lo sbroglio automatico
\index{sbroglio automatico} promettono miracoli, almeno così si legge sulle 
pubblicità fatte dalle più grandi compagnie produttrici di CAD.
Non c'è dubbio, invece, che l'esperienza del progettista, in questo campo, giochi
un ruolo molto importante. FidoCadJ rappresenta uno strumento molto immediato e veloce
per il progetto di piccoli PCB per il fai da te. Vedremo qui come disegnare un 
semplice, ma completo, PCB.   

Mi permetto di suggerire di cominciare avendo le idee chiare di dove piazzare
ogni componente e di come disegnare le piste, in modo da minimizzare gli incroci
il più possibile \index{incroci di piste}.

In questo caso bareremo un po', cominciando dal risultato che si vuole ottenere,
come mostrato in figura~\ref{fig_amplificateur}. 
Si tratta di un semplice amplificatore a emettitore comune costruito attorno ad un 
transistore NPN, di tipo BC547 o simili.
Giova immaginarsi la scheda come se fosse trasparente, guardandola dal lato componenti.
Per questo motivo il silk-screen\index{silk-screen} e i componenti disegnati sulla scheda
sono un valido riferimento, anche se probabilmente non li si vorrà stampare sulla scheda,
per un progetto amatoriale.

%
\begin{figure}
\centering \includegraphics[width=0.5\textwidth]{amplificateur} 

\caption{Un semplice amplificatore che fa uso di un transistore NPN
connesso in configurazione ad emettitore comune.}


\label{fig_amplificateur} 
\end{figure}

Il primo consiglio che posso suggerire è quello di piazzare tutti
i componenti al meglio. Nell'esempio proposto essi sono: il transistor
(dalla libreria {}``PCB footprints/3 terminals semiconductors/TO92''),
il resistore ({}``PCB footprints/Resistors/Resistor 1/4 W 0,4 i''),
e il condensatore elettrolitico ({}``PCB footprints/Electrolytic capacitor/Vert. diam. 5 mm 2.5 mm pitch''). 
Per delimitare l'area della scheda può essere utile tracciare un rettangolo vuoto sul livello
silk-screen (layer No.~3). 
Per fare ciò è possibile utilizzare la primitiva\index{rectangle} \emph{rectangle},
assicurandosi di aver selezionato precedentemente il livello appropriato.
Il risultato ottenuto dovrebbe essere simile a quello mostrato in figura~\ref{fig_amplificateur_phase1}.%

%
\begin{figure}
\includegraphics[width=1\textwidth]{amplificateur_phase1} 

\caption{I dispositivi più importanti sono piazzati sulla scheda.}


\label{fig_amplificateur_phase1} 
\end{figure}

Possiamo ora passare a disegnare le aree di rame che fungeranno da alimentazione
positiva e negativa. Esse possono essere tracciate disegnando un poligono\index{poligono}
(usando la primitiva \emph{poly line}). Facendo doppio click sul bordo del poligono, in modalità
selezione \index{modalità selezione} è possibile specificare a FidoCadJ (attraverso la finestra di dialogo) che il poligono voluto 
deve essere riempito. Prima di piazzare il poligono assicurarsi che il livello corrente\index{livello} sia quello dove intendiamo
piazzare l'area di rame (livello N~1, rame lato saldature).

L'uso di un piano per connettere le linee di alimentazione è utile per assicurarsi che le connessioni abbiano una bassa induttanza parassita. 
Il risultato fin qui ottenuto dovrebbe quindi essere simile a quello risportato in figura ~\ref{fig_amplificateur_phase2}.

%
\begin{figure}
\includegraphics[width=1\textwidth]{amplificateur_phase2} 

\caption{Sono state aggiunte le linee di alimentazione tramite una linea poligonale\index{poligono}.}


\label{fig_amplificateur_phase2} 
\end{figure}

Per completare le connessioni possiamo utilizzare la primitiva \emph{PCB line} \index{PCB line}. 
Io ho scelto di tracciare un pista di spessore pari a 10 unità (1.27~mm), che sarà utile durante il processo di saldatura. %
\begin{figure}
\includegraphics[width=1\textwidth]{amplificateur_phase3} 

\caption{Sono state aggiunte le connessioni rimanenti\index{connessioni PCB}.}


\label{fig_amplificateur_phase3} 
\end{figure}

E' chiaro che la scheda debba avere a bordo qualche connettore: uno per l'ingresso,
uno per l'uscita e uno per l'alimentazione. E' possibile utilizzare, a tale scopo,
il footprint\index{PCB!footprint} di un condensatore al poliestere, che avrà
probabilmente le dimensioni giuste. Non dobbiamo dimenticare, infatti, che FidoCadJ
è pensato per essere il successore dei trasferibili R41\index{trasferibili R41}\dots

Possiamo anche piazzare un ``$+$'' e un ``$-$'' sul lato rame e piazzare un condensatore
ceramico in parallelo all'alimentazione. 
\marginpar{Fate attenzione con la larghezza delle piste: quello che appare grande
come un'autostrada sullo schermo potrebbe essere una traccia così fine che si staccherà
dalla scheda durante il processo di saldatura.}
Mettiamo ora le scritte anche sulla scheda stessa. Per scrivere sul lato rame,
dopo avere selezionato il livello giusto, è necessario specchiare tutto ciò che scriveremo
\index{specchiare le scritte}.
Questo può essere realizzato facilmente tramite le ormai note proprietà accessibili
facendo doppio click sulla scritta da modificare mentre si è in selection mode. 
Servirà fare qualche prova prima di arrivare ad ottenere le dimensioni giuste dei caratteri.
Per avere qualche riferimento si può pensare di avere un rapporto di 3/4 tra la dimensione
orizzontale e quella verticale dei caratteri\index{dimensioni dei caratteri}.
La figura~\ref{fig_amplificateur_phase4} mostra il risultato ottenuto usando 11 unità per la
dimensione orizzontale e 18 unità per quella verticale del testo. 

%
\begin{figure}
\includegraphics[width=1\textwidth]{amplificateur_phase4} 

\caption{Il PCB quasi completato\index{PCB}.}


\label{fig_amplificateur_phase4} 
\end{figure}

A questo punto l'unica cosa mancante è il testo che riporta il nome di ogni componente,
che può essere piazzato sul livello 3 (silk-screen). Il PCB completo viene mostrato in
figura~\ref{fig_amplificateur_complet}.

%
\begin{figure}
\includegraphics[width=1\textwidth]{amplificateur_complet} 

\caption{Il lavoro finito con il silk-screen.}


\label{fig_amplificateur_complet} 
\end{figure}

Una volta che il PCB sarà stato completato, si vorrà probabilmente stamparlo
\index{stampa} su un foglio acetato per utilizzarlo come maschera su un bromografo \index{bromografo}
oppure per utilizzarlo con altri metodi, come per esempio il ``Press\&Peel''\index{Press&Peel@Press\&Peel}.
Per fare ciò è necessario rendere invisibili tutti i livelli che non si intendono stampare.
Fare ciò è possibile tramite la finestra di dialogo accessibile dal menu {}``Vista/Layer''. 
Nel nostro caso è sufficiente nascondere il livello 3 contenente il silk-screen. 
Il programma mostrerà quindi solo il lato rame.
Stamperemo quindi tutto ciò che viene mostrato sullo schermo (ovviamente NON bisogna
adattare la stampa alla dimensione del foglio, poichè siamo intenzionati a stampare
il disegno con le sue dimensioni originali), avendo cura di impostare la stampa in bianco e nero
così da assicurare il contrasto massimo. Potrebbe essere utile specchiare l'intero disegno, dipendentemente
dalla tecnica utilizzata per la produzione del PCB\index{PCB}. 
A causa del fatto che il PCB da noi realizzato è piuttosto piccolo, le sue dimensioni saranno tali da occupare
solo un piccolo angolo del foglio (assumendo di utilizzare un foglio standard ISO-UNI A4\index{A4}), 
come possiamo vedere in Figura~\ref{fig_amplificateur_impression}.

%
\begin{figure}
\centering \fbox{ \includegraphics[width=0.6\textwidth]{amplificateur_impression}} 

\caption{Il PCB, come appare una volta stampato (specchiato) su un foglio ISO-UNI A4.}


\label{fig_amplificateur_impression} 
\end{figure}

Per completezza, viene qui riportato il codice che genera il PCB dell'esempio
(fate attenzione alle linee lunghe!):
\begin{lstlisting}
[FIDOCAD]
TY 320 10 18 11 0 4 1 * Darwin Ampli Esempio 08 
TY 85 240 12 8 0 5 1 * + 
TY 44 239 12 8 0 5 1 * - 
PL 35 90 35 225 10 1
PL 55 130 95 130 10 1
PL 250 130 305 130 10 1
PL 215 130 230 130 10 1
PL 195 140 215 130 10 1
PL 115 130 175 130 10 1
MC 155 220 3 0 PCB.R01
MC 75 80 0 0 PCB.R01
MC 270 185 2 0 PCB.R01
MC 270 80 2 0 PCB.R01
MC 230 130 3 0 PCB.CE00
MC 115 130 1 0 PCB.CE00
MC 40 175 0 0 PCB.CC50
PL 190 80 190 120 10 1
PL 190 140 190 185 10 1
PL 155 80 155 120 10 1
PL 155 120 175 130 10 1
PL 155 140 175 130 10 1
PP 30 30 30 105 90 105 130 55 215 55 260 105 320 105 320 30 1
PP 320 240 320 155 260 155 215 205 135 205 90 155 55 155 55 240 1
MC 190 120 0 0 PCB.TO92
MC 305 90 1 0 PCB.CPBX352
MC 55 90 1 0 PCB.CPBX352
MC 80 225 2 0 PCB.CPBX352
TY 290 65 12 8 0 0 3 * Out 
TY 40 60 12 8 0 0 3 * In 
TY 95 225 12 8 0 0 3 * Alimentazione 
TY 70 190 12 8 0 0 3 * C3 
TY 230 95 12 8 0 0 3 * C2 
TY 115 150 12 8 0 0 3 * C1 
TY 120 170 12 8 0 0 3 * R4 
TY 220 200 12 8 0 0 3 * R3 
TY 230 55 12 8 0 0 3 * R2 
TY 100 55 12 8 0 0 3 * R1 
RV 30 5 320 255 3
\end{lstlisting} 

\section{Usare il righello}\index{righello}
Quando si disegna un PCB, è spesso utile misurare delle distanze sull'area di lavoro. Per esempio è talvolta necessario controllare lo spessore di una posta, la distanza tra due piste o la dimensione totale della scheda. FidoCadJ offre (dalla versione 0.23.2) un righello che permette di fare ciò in modo semplice: è sufficiente fare click con il tasto destro e trascinare. Si ottiene un righello verde, come quello mostrato in figura~\ref{fig_fidocadj_righello}. 
Se il tasto destro e il trascinamento non sono utilizzati nel sistema operativo in uso è possibile fare click con il tasto sinistro e trascinare mentre si preme il tasto\keyevidence{Shift}.

\begin{figure}
\includegraphics[width=\textwidth]{fidocadj_righello}
\caption{Fare click col tasto destro per attivare il righello FidoCadJ.}
\label{fig_fidocadj_righello}
\end{figure}
La lunghezza misurata è mostrata in unità logiche FidoCadJ\index{unità logiche} e anche in millimetri.
Questo è utile quando il disegno è stampato 1:1 (come anche i PCB).

\section{Frecce e stili di tratteggio}

FidoCadJ permette di disegnare delle frecce\index{frecce} all'inizio e alla fine delle linee, curve Bézier e spline cubiche.
Permette anche di specificare dove disegnare le frecce, se all'inizio o alla fine dell'elemento (o su entrambi i lati) e offre anche diversi stili di tratteggio. 

Qualche stile di tratteggio\index{stile di tratteggio} è reso disponibile per il disegno tecnico o meccanico. La figure~\ref{fig_gyrator} mostra un esempio nel quale un circuito elettronico (un GIC\index{GIG}) è stato rinchiuso in un rettangolo tratteggiato. E' stata utilizzata anche una freccia alla fine di una curva Bézier. Facendo un doppio click su questo elemento, FidoCadJ mostra una finestra di dialogo che è simile a quella mostrata in figura~\ref{fig_parametri_bezier}. 
E' possibile notare che è stato selezionata l'opzione ``Arrow at start''. FidoCadJ disegnerà quindi una freccia avendo cura di impostarne la corretta orientazione. 
Sono disponibili diversi stili di disegno per le frecce\index{stili di freccia} come anche per i tratteggi \index{stili di tratteggio}. 
Qualche prova permetterà al lettore di apprezzarne le differenze.

\begin{figure}
\includegraphics[width=\textwidth]{gyrator}
\caption{Uno schema elettrico (un GIC di Antoniou) nel quale sono state utilizzate alcune estensioni di FidoCadJ.}
\label{fig_gyrator}
\end{figure}
\begin{figure}
\centering
\includegraphics[width=.7\textwidth]{parametri_bezier}
\caption{Finestra di dialogo per la curva Bézier utilizzata per lo schema elettrico di figura~\ref{fig_gyrator} (In francese).}

\label{fig_parametri_bezier}
\end{figure}
La possibilità di inserire linee tratteggiate e frecce non era contemplata nel formato originale FidoCad. Questo sfortunatamente significa che
i disegni FidoCadJ che usano queste funzionalità non sono completamente retrocompatibili con FidoCAD\index{FidoCAD} per Windows.
Quando si opera la scelta di utilizzo di una estensione FidoCadJ è necessario conoscere che cosa si stia facendo. Se la compatibilità FidoCAD è assolutamente necessaria, è possibile selezionare l'opzione ``Strict FidoCAD compatibility'' in ``FidoCadJ extensions'' della finestra ``FidoCadJ preferences''. 
In questo modo il programma non permetterà di introdurre elementi grafici che interromperebbero la compatibilità con FidoCAD.
Per ulteriori dettagli riguardanti la compatibilità dei nuovi elementi grafici con FidoCAD\index{FidoCAD}, riferirsi alla sezione~\ref{FCJ_extension}.

\section{Esportazione}

Per me una delle caratteristiche più importanti di FidoCadJ è la possibilità
di creare semplici schemi elettrici per uso tipografico. Per questa ragione
ho introdotto la possibilità di esportare i disegni \index{esportazione}in diversi formati di file.

Per esportare il disegno corrente, selezionare il comando {}``Export'' dal
menu {}``File''. La tabella~\ref{tab_esportazione} mostra la 
lista di formati grafici disponibili. 
\marginpar{Un formato vettoriale format\index{formato vettoriale} memorizza gli elementi
che compongono il grafico. Un formato bitmap\index{formato bitmap} memorizza una matrice di punti.} 
Per ogni formato di file, la tabella (ma anche la finestra di dialogo in FidoCadJ) specifica se il
formato è vettoriale o bitmap. Ovunque sia possibile è meglio scegliere il formato vettoriale per 
ottenere il miglior risultato %
\footnote{Il codice di FidoCadJ è strutturato in modo da permettere l'aggiunta di un nuovo formato di
file in modo piuttosto semplice. Contattatemi se intendete partecipare al progetto.%
}

Per il formato di file bitmap può essere utile abilitare l'opzione {}``Anti aliasing'', 
per ridurre l'effetto irritante della quantizzazione, visibile specialmente sulle linee
diagonali. L'opzione {}``Anti aliasing'' non è usata quando si esporta un formato di file vettoriale.
In questo caso è possibile specificare un fattore di scala. 

L'opzione {}``Black\&White'' permette di stampare ogni livello visibile in nero. Questo è importante
per la preparazione delle maschere a scopo tipografico o per i bromografi. %
\begin{table}
\centering \begin{tabular}{lp{0.7\textwidth}}
\toprule Formato  & Commento\tabularnewline
\midrule \textsc{jpg}\index{JPG}  & Formato bitmap davvero diffuso. Dato che la compressione utilizzata è con perdite\index{compressione con perdite},
non è adatto all'esportazione di un file FidoCaJ. E' reso disponibile a causa della sua diffusione. \tabularnewline
\textsc{png}\index{PNG}  & Formato bitmap compresso  , adatto all'esportazione di schemi elettrici. E' probabilmente il miglior formato col quale esportare un disegno FidoCadJ quando il formato vettoriale non può essere utilizzato. \tabularnewline
\textsc{svg}\index{SVG}  & Formato vettoriale W3C standard. Qualche browser (come le più recenti versioni di Safari\index{Safari}) permettono di visualizzarlo in una pagina web. E' un formato molto valido per grafici e schemi elettrici, permette la visualizzazione e la modifica di disegni fatti con FidoCadJ in applicazioni quali Inkscape\index{Inkscape}. Attualmente c'è qualche limite per l'esportazione di testi ruotati e specchiati. \tabularnewline



\textsc{eps}\index{EPS}  & Encapsulated Postscript vectorial format\index{Postscript}. 
Molto utile per coloro che usano applicazioni grafiche professionali, o vogliono
utilizzare FidoCadJ con \LaTeX{}\index{\LaTeX{}@\LaTeX}.
L'esportazione grafica dovrebbe essere completamente funzionante.
Questo è stato il modo con il quale si sono ottenute le figure
~\ref{fig_amplificateur}, pagina~\pageref{fig_amplificateur}
in questo manuale (passando attraverso la conversione \textsc{pdf},
poichè io uso \textsc{pdf}\LaTeX{}\index{pdf\LaTeX{}@\textsc{pdf}\LaTeX}). \tabularnewline
\textsc{pgf}\index{PGF}  & Vectorial format da usare direttamente in un documento \LaTeX{}\index{\LaTeX{}@\LaTeX},
quando si usa il pacchetto \textsl{pgf} disponibile nell'archivio CTAN.
L'opzione di esportazione è pensata in particolare per esportare schemi elettrici e usa
uno script facilmente modificabile. Gli attributi testuali non saranno tradotti.  
Questo permette l'introduzione di codice \LaTeX{}\index{\LaTeX{}@\LaTeX} direttamente
nel disegno ed è la tecnica utilizzata in questo manuale per ottenere la figura~\ref{fig_schema}, pagina~\pageref{fig_schema}. \tabularnewline
\textsc{scr}\index{SCR}  & FidoCadJ permette l'esportazione di uno script che può essere
importato in CadSoft\index{CadSoft} Eagle\index{Eagle}.
Per usare questa caratteristica, è necessario installare la libreria \lstinline!FidoCadJLIB.lbr!
nella cartella \lstinline!lbr! della installazione corrente di Eagle. 
La libreria può essere scaricata dal sito web di FidoCadJ.
Quando è stato scritto questo manuale, questa opzione funziona solo con
gli schemi elettrici contenenti solo i simboli più comuni.
Qualche elemento grafico, quali i pad e le piste non sono ancora disponibili.
Quest'ultime non verranno esportate nello script Eagle.

\tabularnewline
\bottomrule  & \tabularnewline
\end{tabular}

\caption{Lista di tutti i formati esportabili disponibili in FidoCadJ.}


\label{tab_esportazione} 
\end{table}



\section{Opzioni da linea di comando}

L'applicazione viene distribuita tramite un file \lstinline!.jar!\index{jar},
che è un archivio Java.%
\footnote{Ad eccezione per la versione Macintosh\index{Macintosh} questa è una 
applicazione stand alone.%
} In molti sistemi operativi, per far girare l'applicazione è sufficiente fare
doppio click sopra il file, a patto che una versione recente di Java\index{Java}
sia installata sulla macchina.
Usando la terminologia Sun\index{Sun},
il così chiamato JRE\index{JRE}, o anche Java Runtime Environment, 
è tutto ciò che serve per far girare un programma scritto in Java (ma non per
scriverlo: in questo caso è necessario il SDK\dots). 
La versione minima di Java per far girare FidoCadJ è la 1.5, la quale è
stata pubblicata da ormai molti anni.

In alcuni casi, potrebbe essere utile per far girare FidoCadJ da linea di comando
(il terminale\index{terminale} su un sistema Unix\index{Unix}, o sul
\index{MS-DOS prompt}MS-DOS Prompt in Windows\index{Windows}).
Per fare ciò, è sufficiente lanciare il comando \lstinline!java!, con
l'option \lstinline!-jar!: 
\begin{lstlisting} 
java -jar fidocadj.jar
\end{lstlisting}

Se viene specificato un file a seguito della linea di comando, \index{linea di comando}, FidoCadJ
cercherà di aprirlo. Per esempio (su una macchina Unix\index{Unix}):
\begin{lstlisting} 
java -jar fidocadj.jar ~/FidoCadJ/test.fcd 
\end{lstlisting}

FidoCadJ verrà lanciato cercando di aprire il file \lstinline!~/FidoCadJ/test.fcd!
(ammesso che esista).

Ci sono alcune cose interessanti che FidoCadJ può fare.

L'opzione \lstinline!-h! mostra una lista delle opzioni FidoCadJ:
\lstset{basicstyle=\scriptsize\ttfamily}
	 	 
\begin{lstlisting}
[davidebucci@Darwin]$ java -jar fidocadj.jar -h

This is FidoCadJ, version 0.24.1.
By Davide Bucci, 2007-2012.

Use: java -jar fidocadj.jar [-options] [file] 
where options include:

 -n     Do not start the graphical user interface (headless mode)

 -d     Set the extern library directory
        Usage: -d dir
        where 'dir' is the path of the directory you want to use.

 -c     Convert the given file to a graphical format.
        Usage: -c sx sy eps|pdf|svg|png|jpg|fcd|sch outfile
        If you use this command line option, you *must* specify a FidoCadJ
        file to convert.
        An alternative is to specify the resolution in pixels per logical unit
        by preceding it by the letter 'r' (without spaces), instead of giving
        sx and sy.

 -s     Print the size  of the specified file in logical coordinates.

 -h     Print this help and exit.

 -t     Print the time used by FidoCadJ for the specified operation.

 -p     Do not activate some platform-dependent optimizations. You might try
        this option if FidoCadJ hangs or is painfully slow.

 -l     Force FidoCadJ to use a certain locale (the code might follow
        immediately or be separated by an optional space).

 [file] The optional (except if you use the -d or -s options) FidoCadJ file to
        load at startup time.

Example: load and convert a FidoCadJ drawing to a 800x600 pixel png file
        without using the GUI.
  java -jar fidocadj.jar -n -c 800 600 png out1.png test1.fcd

Example: load and convert a FidoCadJ drawing to a png file without using the
        graphic user interface (the so called headless mode).
        Each FidoCadJ logical unit will be converted in 2 pixels on the image.
  java -jar fidocadj.jar -n -c r2 png out2.png test2.fcd

Example: load FidoCadJ forcing the locale to simplified chinese (zh).
  java -jar fidocadj.jar -l zh


[davidebucci@Darwin]$
\end{lstlisting}
\lstset{language=FIDOCAD,
    basicstyle=\small\ttfamily}
    
L'opzione più semplice è \lstinline!-n!, con la quale il programma\dots\ non fa nulla, non attiva la GUI ed esce. In questo caso la variabile Java di 
ambiente \lstinline!java.awt.headless! viene impostata al valore 'vero'.
Ovviamente questa opzione è pressochè inutile da sola, ma potrebbe essere preziosa in combinazione con altre funzioni che andremo a descrivere.
L' opzione \lstinline!-d! permette di specificare il percorso dove FidoCadJ cercherà per le librerie da caricare all'avviamento.  
L' opzione \lstinline!-c! converte un file FidoCAD (che deve essere specificato) in una immagine vettoriale o raster. Questo può essere molto utile quando FidoCadJ viene utilizzato quale convertitore non interattivo (insieme all'opzione \lstinline!-n!)
Prendiamo in considerazione il primo esempio mostrato nell'help:

\begin{lstlisting}
java -jar fidocadj.jar -n -c 800 600 png out1.png test1.fcd
\end{lstlisting}

FidoCadJ verrà avviato senza lanciare la GUI e esporterà in formato png\index{PNG} il file \lstinline!test1.fcd!. Il file di output verrà chiamato \lstinline!out1.png! avrà una dimensione di 800x600 pixel.

C'è una versione alternativa dell'opzione \lstinline!-c!, la quale permette di specificare quanti pixel dovranno essere utilizzati per la conversione di una unità logica (chiamiamo questo fattore $r_\mathrm{p}$). FidoCadJ non considera le mezze unità logiche (i numeri devono essere interi). Scegliendo, diciamo, $r_\mathrm{p}$ uguale a due pixel per unità logica ci si assicurerà che lo schema elettrico sia comprensibile (anche se probabilmente un po' piccolo).
il fattore $r_\mathrm{p}$ potrebbe non essere intero, come in questo esempio:

\begin{lstlisting}
java -jar fidocadj.jar -n -c r1.25 png out2.png test2.fcd
\end{lstlisting}

per sapere la dimensione complessiva (in unità logiche) di uno schema elettrico, è possibile utilizzare l'opzione \lstinline!-s!.
Ci si ricordi, però, che durante una esportazione, FidoCadJ somma sempre un margine di $t_\mathrm{margin}=3$ unità logiche per ogni lato del disegno. 
In questo modo, se $t_\mathrm{w}$ è la larghezza del disegno in unità logiche date da \lstinline!-s!, ci si potrebbe aspettare che la 
larghezza del disegno in pixel $p_\mathrm{w}$ sia calcolata nel modo seguente 

\begin{equation}
p_\mathrm{w} = r_\mathrm{p} (t_\mathrm{w}+ 2 t_\mathrm{margin})
\end{equation}

Un'altra opzione interessante, dovuta più a Java\index{Java} che a
FidoCadJ, è la possibilità di modificare l'aspetto dell'applicazione 
(chiamata in gergo Java look \& feel\index{look  feel@look \& feel}).
E' possibile scegliere il look\&feel preferito senza modificare una singola
linea di codice.
Riporto una cosa che gli utenti Linux\index{Linux} apprezzeranno,
il look GTK+\index{GTK+}: 
\begin{lstlisting} 
java -Dswing.defaultlaf=com.sun.java.swing.plaf.gtk.GTKLookAndFeel -jar fidocadj.jar 
\end{lstlisting} 
E' anche disponibile il più classico Motif\index{Motif} look \& feel, mostrato in figura~\ref{fig_fidocadj_motif}\footnote{

Questo stile potrebbe lasciare di stucco coloro che sono abituati a stili grafici rifiniti come Aqua su MacOSX.
Ho visto qualche anno fa un sistema di controllo per un sincrotrone con una interfaccia grafica basata su Motif. Niente male!}: 
\begin{lstlisting}
java -Dswing.defaultlaf=com.sun.java.swing.plaf.motif.MotifLookAndFeel -jar fidocadj.jar 
\end{lstlisting} %
\begin{figure}
\includegraphics[width=1\textwidth]{fidocadj_motif} 

\caption{Come appare il programma su MacOSX\index{MacOSX}, usando il look \& feel Motif.}

\label{fig_fidocadj_motif} 
\end{figure}

Ovviamente, i comandi descritti devono essere inseriti da terminale,
facendo attenzione che la directory corrente contenga il file \lstinline!fidocad.jar!.
Bisogna fare inoltre attenzione a scrivere tutto sulla stessa linea di comando.

\lstset{language=FIDOCAD,
 basicstyle=\small\ttfamily}

\section{Gestione delle librerie}
\subsection{Usare i file di libreria}
Una libreria è una raccolta di simboli i quali possono essere inclusi in un disegno. C'è un certo numero di librerie incluse nel pacchetto FidoCadJ, come anche la possibilità di crearne di nuove, simboli inclusi.
FidoCadJ permette di specificare una cartella nella quale sono presenti tutti i file di libreria\index{librerie} (con l'estensione \lstinline!.fcl!), 
tramite il menu {}``File/Options''. 

In qualche caso speciale (o per fare test), le librerie incluse in FidoCadJ possono essere sostituite con altre esterne.
Se è presente un file di nome\lstinline!FCDstdlib.fcl! il suo contenuto prenderà il posto della libreria standard \index{Librerie!libreria standard} e verrà
reso disponibile nell'applicazione. Analogamente, se è presente un file di nome \lstinline!PCB.fcl! il suo contenuto prenderà il posto della libreria per i PCB. 
\footnote{Si prega di fare attenzione all'uso delle lettere maiuscole, in particolare se il sistema operativo utilizzato distingue le lettere maiuscole dalle minuscole nella gestione dei file}.

Dalla versione 0.23, grazie a Roby IZ1CYN, ho potuto includere la libreria IHRaM 3.1\index{libreria IHRaM} direttamente all'interno della distribuzione FidoCadJ.
L'ho fatto perchè questa, tra tutte le librerie che ho avuto modo di vedere, mi è sembrata una delle più complete e razionalmente organizzate. 
Come per tutte le altre librerie FidoCadJ, se è presente un file chiamato \lstinline!IHRAM.FCL! nel percorso di ricerca delle librerie, esso verrà caricato al posto della versione presente all'interno del programma. Sono presenti anche i simboli per elettrotecnica, il cui file di libreria è chiamato \lstinline!elettrotecnica.fcl!.

Altri file con l'estensione \lstinline!.fcl!, nel path delle librerie, saranno considerati come librerie e FidoCadJ cercherà di aprirle una volta avviato.
Queste sostituzioni e aggiunte vengono effettuate quando l'applicazione parte, quando l'utente cambia il percorso di ricerca delle librerie oppure quando l'ozione ``Update libraries'' nel ``Circuit menu'' viene selezionata.

FidoCadJ permette di separare le macro non standard (come fa anche FidoCAD\index{FidoCAD} originale). Questo è molto utile quando si posta un disegno in un newsgroup, poichè ogni macro che non appartiene alla libreria standard di FidoCAD\index{FidoCAD} viene espansa nelle sue primitive grafiche. Chi leggerà il post, quindi, non avrà la necessità di possedere la stessa libreria di chi ha postato il disegno.

Per effettuare il copia-incolla, nel menu ``Edit'' è disponibile il comando ``Copy, split non standard macros'' (o si può usare la scorciatoia \keyevidence{Control}+\keyevidence{M}\footnote{Sui sistemi MacOSX, la scorciatoia è \keyevidence{Command}+\keyevidence{M}}), in modo da separare tutte le macro appartenenti a librerie non standard. 
E' anche possibile salvare un lavoro separando le macro non standard, scegliendo ``Save as..., split non standard macros'' dal menu ``File''. 
Comparirà una finestra di dialogo che permetterà di scegliere un nuovo nome file, in modo da non sovrascrivere quello sul quale si sta lavorando. 

\subsection{Definire nuovi simboli}
FidoCadJ permette di creare nuove librerie e nuovi simboli. La tecnica adottata è stata scelta in modo da essere la più intuitiva possibile. Ecco i passi da seguire: 
\begin{itemize}
\item Assicurarsi che sia stata definita una cartella contenente le librerie. Se non è così, definirla usando le impostazioni di FidoCadJ. 
\item Disegnare quanto si intende convertire in un simbolo. 
\item Selezionare ciò che si è disegnato e cliccarci sopra con il tasto destro. Apparirà un menu popup, come in figura~\ref{fig_symbol_o_matic}. 
\begin{figure}
  \begin{center}
    \includegraphics[width=.5\textwidth]{symbol_o_matic} 
  \end{center}
  \caption{Il menu popup che appare cliccando con il tasto destro permette di trasformare un disegno in un simbolo}
  \label{fig_symbol_o_matic} 
\end{figure}
\item Selezionare ``Symbol-o-matic'' e apparirà una finestra di dialogo che permetterà di definire i dettagli del simbolo appena creato (vedere figura~\ref{fig_new_symbols}).
\begin{figure}
  \begin{center}
    \includegraphics[width=.7\textwidth]{new_symbols} 
  \end{center}
  \caption{La finestra di dialogo per il nuovo simbolo, tramite la quale è possibile impostare tutte le caratteristiche del simbolo. Si noti che l'origine è definita dai due assi rossi.}
  \label{fig_new_symbols} 
\end{figure}
\item Nel primo campo ``Library filename''\index{Library filename} si trova il nome della libreria nella quale sarà incluso il nuovo simbolo. Digitando qui un nuovo nome, FidoCadJ creerà un nuovo file.  
\item Il secondo campo ``Library complete name''\index{Library complete name} è il nome completo della libreria, quello mostrato nell'albero delle librerie. E' possibile scrivere una cosa qualunque, qui, ma è chiaramente preferibile scegliere un nome corto ed esplicativo.  
\item Il terzo campo ``Group''\index{Group} permette di scegliere in quale gruppo inserire il nuovo simbolo, dentro la libreria. Nuovamente, digitando un nuovo nome, verrà creato un nuovo gruppo. 
\item Il quarto campo ``Name''\index{Name} è il nome del simbolo: quello mostrato nell'albero delle librerie. Conviene anche in questo caso secegliere un nome corto ed esplicativo. 
\item Il quarto campo ``Key''\index{Key} è una etichetta piuttosto corta che identifica il simbolo nel codice. Dovrebbe essere unico all'interno di ogni libreria e non dovrebbe contenere spazi come anche caratteri quali: parentesi, puntini eccetera. FidoCadJ propone un codice numerico, ma sarebbe meglio una etichetta mnemonica. 
\item Cliccando nel campo a destra, si deve scegliere l'origine\index{Origine} del simbolo, cioè il punto che verrà utilizzato per piazzare il simbolo all'interno del disegno. E' possibile scegliere di posizionare il simbolo sulla griglia cliccando su ``Snap origin on grid''.
\item Quando si clicca su ``OK'', il simbolo appena creato dovrebbe comparire nella libreria ad albero nella finestra principale di FidoCadJ.  
\end{itemize}
\begin{figure}
  \includegraphics[width=1\textwidth]{new_symbol_use} 
  \caption{Il simbolo appena creato, mostrato nella lista dei simboli e nel disegno. Sulla sinistra è ancora presente il disegno utilizzato per creare il simbolo. Notare che il punto di controllo è presente nel disegno, per il nuovo simbolo.}
  \label{fig_new_symbol_use} 
\end{figure}
Un esempio di un simbolo creato da un utente e usato in un disegno viene mostrato in figura~\ref{fig_new_symbol_use}. Notare la differenza tra la parte selezionata a sinistra nel disegno (in realtà ciò che è stato usato per definire il nuovo simbolo) e il nuovo simbolo piazzato sulla destra. 
In effetti, un solo punto di controllo è disponibile per il piazzamento del simbolo e questo punto di controllo corrisponde alla scelta del punto di origine mentre viene definito il simbolo. In questo modo si sceglie un punto particolarmente importante all'interno del simbolo. 
E' possibile separare un simbolo\index{Separare un simbolo} nelle sue primitive facendo click su ``Vectorize''.

\subsection{Modificare un simbolo esistente}
E' disponibile usufruire di alcune voci di menu nell'albero della librerie, compreso il drag and drop\index{Drag and drop}.
Selezionando un simbolo in una libreria utente e cliccandoci sopra con il tasto destro apparirà un menu popup, come mostrato in figura~\ref{fig_popup_menu_lib}. Ci si troverenno le opzioni seguenti:
\begin{figure}
  \begin{center}
    \includegraphics[width=.5\textwidth]{popup_menu_lib} 
  \end{center}
  \caption{Il menu popup utilizzato per modificare le proprietà dei simboli nella libreria utente.}
  \label{fig_popup_menu_lib} 
\end{figure}
\begin{itemize}
\item ``Rename''\index{Rename (simbolo di libreria)} rinomina il simbolo.
\item ``Delete''\index{Delete (simbolo di libreria)} elimina il simbolo. Si prega di prestare attenzione: se un disegno contiene il simbolo eliminato esso non sarà più riconosciuto e scomparirà. 
\item ``Change key''\index{Change key} è utile per modificare la proprietà key associata al simbolo. Anche qui si prega di prestare la dovuta attenzione: questa opzione è da utilizzarsi quando il simbolo non è stato utilizzato nel disegno. 
\end{itemize}
Usando il drag and drop\index{Drag and drop} è possibile cambiare la libreria o la categoria entro la quale il simbolo viene classificato. Si prega di prestare attenzione al fatto che un simbolo viene completamente identificato tramite il nome di libreria seguito dalla sua key. A causa di questo lo spostamento di un simbolo da una libreria ad un'altra renderà non più valido il disegno che lo contiene. 
Le operazioni sulle librerie non sono annullabili, esattamente come le operazioni sul disegno. 
Librerie o gruppi vuoti non vengono mostrati. 

\chapter{Formato di disegno, macro e librerie FidoCAD} \label{chap_formato}

Questo capitolo contiene una descrizione dettagliata del formato usato da FidoCAD e, di conseguenza, del formato usato da FidoCadJ per salvare un disegno.
Il formato è testuale, ma con il vantaggio di essere compatto ed efficiente.
Cercherò di spiegare ciò che ho imparato su questo formato, poichè esso non è descritto in dettaglio in nessun documento.
Cercherò di spiegare anche le estensioni che ho aggiunto a FidoCadJ, inoltre.
Si ricordi che dalla versione 0.23.4, FidoCadJ usa solo la codifica UTF-8\index{UTF-8} \index{codifica} su tutte le piattaforme.

\section{Descrizione dell'intestazione}

Tutti i file contenenti un disegno in formato FidoCAD \emph{\index{FidoCAD}}
iniziano con l'etichetta \emph{\lstinline!{[}FIDOCAD{]}!.}
Un programma può quindi riconoscere la presenza di comandi FidoCAD leggendo questa etichetta.
A questo proposito, FidoCadJ è più tollerante rispetto a FidoCAD \emph{\index{FidoCAD}} originale
perchè riconosce e interpreta un file anche se non contiene l'intestazione\emph{\index{intestazione}} originale. 
Anche se i comandi sono testuali, essi possono essere correttamente interpretati fino a quando il numero delle
linee di codice errato non supera un valore predefinito dal programma (circa 100). Questo fa si che FidoCadJ non
si blocchi per troppo tempo, per esempio cercando di interpretare un grosso file binario. 

\section{Sistema di coordinate}

FidoCadJ funziona utilizzando un semplice sistema di coordinate\emph{\index{sistema di coordinate}}.
In pratica ha a disposizione un'area grande identificata unicamente da coordinate positive.
La lunghezza di ogni unità in x e y è fissata a \emph{$127\micron$}, un valore che permette di
ottenere una buona risoluzione anche per il più piccolo componente SMD, senza essere troppo fine
per l'uso normale. In termini tipografici, la risoluzione di FidoCadJ è di 200 punti per pollice. 

Il FidoCAD\emph{\index{FidoCAD}} originale opera in due modi differenti: PCB\emph{\index{PCB}} e
schema elettrico\index{schema elettrico}. In FidoCadJ questa differenza è più evanescente e si
manifesta unicamente nel momento della stampa del disegno. 
Sarebbe, a tal proposito, consigliabile di impostare il programma in modo che ridimensioni lo schema
elettrico in modo da utilizzare al meglio il foglio, altrimenti è possibile che il risultato in stampa
abbia le dimensioni di un francobollo.

\section{Elementi di disegno}

\label{sec_primitive} FidoCadJ può trattare 12 elementi grafici, come segue
\begin{itemize}
\item Line\index{line}
\item Filled o empty rectangle\index{rectangle} 
\item Simple text (obsolete)
\item Advanced text\index{text}
\item Filled o empty polyline\index{polyline}
\item Filled o empty ellipse\index{ellipse} 
\item Bézier curve \index{Bézier} 
\item Natural cubic spline curve \index{spline}
\item Electrical junction\index{connection}
\item PCB pad\index{PCB pad}
\item PCB track\index{PCB track}
\item Macro\index{macro}
\end{itemize}

Analizzeremo ognuno di loro. In generale, ogni elemento\index{elemento}
è identificato da un comando e un certo numero di parametri\index{parametri}
(solitamente numeri interi o stringhe di testo) posizionati sulla stessa linea e separati da uno spazio.

\subsubsection{Line}

La primitiva line\index{line}\marginpar{I Matematici troverebbero probabilmente più appropriato il termine ``segmento''\index{segmento}.} 
viene identificata dal comando \lstinline!LI!\index{LI} e la sua definizione richiede unicamente le coordinate di inizio e fine, oltre che al livello: 
\begin{lstlisting}
LI x1 y1 x2 y2 l 
\end{lstlisting} 
I punti $(x_{1},y_{1})$ e $(x_{2},y_{2})$ rappresentano rispettivamente le coordinate di inizio e di fine, mentre il carattere $l$ 
rappresenta il livello, dato da un numero intero tra 0 e 15.

\textbf{Estensioni FidoCadJ}: dalla versione 0.23 di FidoCadJ, \lstinline!LI!\index{LI} può essere seguito, alla linea seguente, da questa estensione: 
\begin{lstlisting} 
FCJ a b c d e nv
\end{lstlisting}
dove $a$ è un intero che rappresenta la presenza o no della freccia agli estremi del segmento (confrontare la tabella~\ref{tab_frecce_estremita}), $b$ rappresenta lo stile della freccia (tabella~\ref{tab_frecce_stile}). I parametri $c$ e $d$ indicano rispettivamente la lunghezza totale e la mezza larghezza della freccia, mentre $e$ è un intero che indica il tipo di tratteggio. Se $nv$ è eguale a 1, il comando \lstinline!FCJ! deve essere seguito da due comandi  \lstinline!TY! contenenti il nome e il valore associati all'elemento. 

\begin{table}
\centering

\begin{tabular}{ccp{.7\textwidth}}
\toprule
$a$	& Freccia \\
\midrule
0	& nessuna \\
1	& all'inizio\\
2	& alla fine\\
3	& sia all'inizio che alla fine\\
\bottomrule
\end{tabular}
\caption{Significato del parametro $a$ per la presenza di una freccia alle estremità di una linea o di una curva Bézier.}
\label{tab_frecce_estremita}
\end{table}

\begin{table}
\centering
\begin{tabular}{ccp{.7\textwidth}}
\toprule
$b$	& Stile della freccia \\
\midrule
0	& riempimento standard della freccia \\
1	& riempimento standard della freccia con indicazione di quota \\
2	& freccia vuota\\
3	& freccia vuota con indicazione di quota\\
\bottomrule
\end{tabular}
\caption{Significato del parametro $b$ per lo stile della freccia.}
\label{tab_frecce_stile}
\end{table}

\subsubsection{Filled o empty rectangle}

Un rettangolo\index{rettangolo} pieno o vuoto viene definito dal comando \lstinline!RP!\index{RP} e \lstinline!RV!\index{RV}
rispettivamente, seguito dalle coordinate dei due vertici su una delle due diagonali, e dal livello.
\begin{lstlisting} 
RP x1 y1 x2 y2 l 
RV x1 y1 x2 y2 l 
\end{lstlisting} i punti $(x_{1},y_{1})$
e $(x_{2},y_{2})$ rappresentano i due vertici e $l$ è il livello,
caratterizzato da un numero intero tra 0 e 15.

\textbf{Estensioni FidoCadJ}: Dalla versione 0.23 di FidoCadJ, \lstinline!RP!\index{RP} e \lstinline!RV!\index{RV} possono essere seguiti, alla linea successiva, dall'estensione: 
\begin{lstlisting} 
FCJ e nv
\end{lstlisting}
dove $e$ è un intero che descrive lo stile di tratteggio. Se $nv$ è uguale a 1, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi \lstinline!TY! che descrivono il nome e il valore associati all'elemento.


\subsubsection{Simple text (obsoleto)}

La primitiva simple text \index{simple text} è stata la primitiva supportata
dalle prime versioni di FidoCAD\index{FidoCAD}. FidoCadJ la riconosce
e la interpreta scrivendo il testo di dimensione 12, indipendentemente dallo zoom\index{zoom} corrente.

Poichè la primitiva era considerata obsoleta\index{obsoleto} da Lorenzo
Lutti\index{Lorenzo Lutti}, il creatore di FidoCAD\index{FidoCAD},
FidoCadJ si adegua e, anche se essa viene correttamente interpretata, 
non viene resa disponibile nella barra degli strumenti.
FidoCadJ memorizza questo elemento come testo avanzato e utilizza il comando \lstinline!TY!\index{TY}
quando il file viene salvato.

Il comando è \lstinline!TE!\index{TE} e il formato è il seguente:
\begin{lstlisting} 
TE x1 y1 £testo da scrivere 
\end{lstlisting}
Il punto $(x_{1},y_{1})$ corrisponde alla posizione alla quale {}``testo da scrivere''
viene posizionato. Notare che manca l'informazione sul livello.
FidoCadJ posiziona questo oggetto sul livello zero (circuito\index{circuito}).


\subsubsection{Advanced Text}

La primitiva advanced text\index{advanced text} offre molta più flessibilità 
rispetto a quella simple text\index{simple text} descritta qui sopra.

Viene identificata dal comando \lstinline!TY!\index{TY}, seguito da 
un certo numero di parametri per determinare l'orientazione del testo (ruotato\index{testo!ruotato}
o specchiato\index{testo!specchiato}), e dalle dimensioni $x$ e $y$ e dal font usato. 
a causa della grande quantità di informazioni da specificare, il comando risultante è piuttosto complesso:
\begin{lstlisting}
TY x1 y1 sy sx a s l f £testo da scrivere 
\end{lstlisting}
Il punto $(x_{1},y_{1})$ corrisponde alla posizione della stringa ``testo da scrivere''.
I valori di $s_{y}$ and $s_{x}$ indicano le dimensioni verticali e orizzontali del testo
in unità logiche\index{unità logiche}.
Per mia scelta FidoCadJ rispetta la dimensione verticale di inizio partendo
da quella orizzontale, e questo rapporto di aspetto viene cambiato solo
se strettamente necessario. La rotazione del testo è gestita dal termine
$a$, espresso in gradi sessagesimali, mentre il valore $s$ determina
lo stile del testo\index{testo!stile}, ci si riferisca alla tabella~\ref{tab_stile_testo}.
Il livello utilizzato è dato dal termine $l$, e $f$ indica il
font da usare, oppure viene specificato un asterisco\index{asterisco}, usato
per indicare l'uso del font standard Courier New font\index{Courier New}.
Se il nome contiene degli spazi essi verranno sostituiti con il simbolo +\index{+}.

%


%
\begin{table}
\centering \begin{tabular}{llp{0.7\textwidth}}
\toprule Bit  & Peso  & Comportamento \tabularnewline
\midrule 0  & 1  & testo in grassetto\tabularnewline
2  & 4  & testo specchiato\tabularnewline
\bottomrule  &  & \tabularnewline
\end{tabular}

\caption{Funzione dei bit nel campo dello stile di testo.}


\label{tab_stile_testo} 
\end{table}

La massima lunghezza della stringa di testo\index{lunghezza massima del testo} è di circa
80 parole. Il conteggio viene effettuato in parole e non in caratteri poichè nella
struttura interna del programma le parole (e i comandi) vengono separati quando
una linea viene interpretata.  

\subsubsection{Filled or Empty polyline}

Una poligonale\index{poligonale} piena o vuota viene indicata dal comando
\lstinline!PP!\index{PP} e \lstinline!PV!\index{PV} rispettivamente,
seguita dalle coordinate dei vertici che definiscono la poligonale e, dopo, dal livello.
Il comando è
\begin{lstlisting}
PP x1 y1 x2 y2 ... l 
PV x1 y1 x2 y2 ... l 
\end{lstlisting} 
dove i punti $(x_{1},y_{1})$, $(x_{2},y_{2})$\dots\ sono i vertici che definiscono
la poligonale e $l$ è il livello, caratterizzato da un numero intero tra 0 e 15. 
La lunghezza della linea di comando può variare dipendentemente dal numero di vertici utilizzati.
Il numero massimo di vertici disponibili utilizzato\index{numero massimo di vertici} è stato
arbitrariamente fissato a 20, per evitare linee di comando troppo lunghe. 

\textbf{Estensioni FidoCadJ}: dalla versione 0.23 di FidoCadJ, \lstinline!PP!\index{PP} e \lstinline!PV!\index{PV} possono essere seguiti, alla linea successiva, da una estensione: 

\begin{lstlisting} 
FCJ e nv
\end{lstlisting}
dove $e$ è un intero che descrive lo stile di tratteggio. Se $nv$ è uguale a 1, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi 
\lstinline!TY! che riportano il nome e il valore associati all'elemento. 

\subsubsection{Filled o Empty ellipse}

Una ellisse\index{ellisse}, piena o vuota, è identificata dal comando 
\lstinline!EP!\index{EP} e \lstinline!EV!\index{EV} rispettivamente,
seguiti dalle coordinate dei due vertici sulla diagonale e dal valore del livello. 
\begin{lstlisting} 
EP x1 y1 x2 y2 l 
EV x1 y1 x2 y2 l 
\end{lstlisting} 
il punto $(x_{1},y_{1})$ rappresenta il primo vertice della diagonale, $(x_{2},y_{2})$ il secondo, 
e $l$ è il livello, identificato da un numero intero compreso tra 0 e 15.

\textbf{Estensioni FidoCadJ}: dalla versione 0.23 di FidoCadJ, \lstinline!EP!\index{EP} e \lstinline!EV!\index{EV} possono essere seguiti, alla linea successiva, da una estensione: 
\begin{lstlisting} 
FCJ e nv
\end{lstlisting}
dove $e$ è un intero che descrive lo stile di tratteggio. Se $nv$ è uguale a 1, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi 
\lstinline!TY! che riportano il nome e il valore associati all'elemento. 

\subsubsection{Bézier curve}

Un segmento di curva Bézier\index{Bézier}, nella sua variante cubica, è identificato da quattro vertici,
i quali sono richiesti dal suo comando associato 
\lstinline!BE!\index{BE}: 
\begin{lstlisting} 
BE x1 y1 x2 y2 x3 y3 x4 y4 l 
\end{lstlisting} 
dove $P_{1}\equiv(x_{1},y_{1})$, $P_{2}\equiv(x_{2},y_{2})$,
$P_{3}\equiv(x_{3},y_{3})$ e $P_{4}\equiv(x_{4},y_{4})$ sono i
quattro punti di controllo del segmento di curva Bézier\index{Bézier}, dove
$l$ è il livello, identificato da un numero intero compreso tra 0 e 15. 
Dati i quattro punti così definiti, il segmento di curva viene calcolato attraverso
l'espressione \begin{equation}
B(t)=(1-t)^{3}P_{1}+3t(1-t)^{2}P_{2}+3t^{2}(1-t)P_{3}+t^{3}P_{4},\end{equation}
dove $t\in[0,1]$ è un parametro.

\textbf{Estensioni FidoCadJ}: dalla versione 0.23 di FidoCadJ, \lstinline!BE!\index{BE} può essere seguito, alla linea successiva, da una estensione: 
\begin{lstlisting} 
FCJ a b c d e nv
\end{lstlisting}
dove $a$ è un intero che rappresenta o meno la presenza di una freccia agli estermi della curva (confrontare la tabella~\ref{tab_frecce_estremita}), $b$ rappresenta lo stile della freccia (come da tabella~\ref{tab_frecce_stile}). I parametri $c$ e $d$ definiscono la lunghezza totale e la metà lunghezza della freccia, mentre $e$ è un intero che definisce lo stile di tratteggio. Se $nv$ è uguale ad 1, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi 
\lstinline!TY! che definiscono il nome e il valore associato all'elemento. 

\subsubsection{Natural cubic spline (complex curve)}
Una spline cubica\index{spline} viene definita da un certo numero di vertici. La curva incrocia ogni vertice ed è calcolata in modo tale per cui assuma una buona levigatezza.\footnote{ \href{http://www.cse.unsw.edu.au/~lambert/splines/natcubic.html}{http://www.cse.unsw.edu.au/\textasciitilde lambert/splines/natcubic.html}} Nel formato FidoCadJ, una spline viene identificata dal comando \lstinline!CV!\index{CV} e \lstinline!CP!\index{CP}:
\begin{lstlisting}
CV aa x1 y1 x2 y2 ... l
CP aa x1 y1 x2 y2 ... l
\end{lstlisting}
il parametro $aa$ è uguale a 1 se la curva è chiusa, 0 altrimenti. I vertici $(x_1, y_1)$, $(x_2, y_2)$\dots definiscono la spline e $l$ è il livello, un numero intero che va da 0 a 15.
La lunghezza della linea di comando varia quindi in funzione del numero di vertici presenti. 
Come nel caso della poligonale, il massimo numero di vertici\index{massimo numero di vertici} disponibile iternamente fissato è circa 100, in modo da evitare linee di comando troppo lunghe. La primitiva è stata introdotta dalla versione 0.24 e non è presente nella versione originale di FidoCAD\index{FidoCAD}.

\textbf{estensioni FidoCadJ}: \lstinline!CV!\index{CV} e \lstinline!CP!\index{CP} possono essere seguite, alla linea successiva dall'estensione: 
\begin{lstlisting} 
FCJ a b c d e nv
\end{lstlisting}
dove $a$ è un intero che rapppresenta la presenza o meno di una freccia alle estremità della curva (si confronti anche la tabella~\ref{tab_frecce_estremita}), $b$ rappresenta lo stile della freccia (si confronti anche la tabella~\ref{tab_frecce_stile}). I parametri $c$ e $d$ definiscono rispettivamente la lunghezza totale e la metà larghezza della freccia, mentre $e$ è un intero che definisce lo stile di tratteggio. Se $nv$ è uguale a 1, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi \lstinline!TY! che definiscono il nome e il valore associati all'elemento. 

\subsubsection{Electrical junction}
La giunzione elettrica\index{giunzione} è un semplice cerchietto di dimensione costante e viene usato per rappresentare una connessione in uno schema elettrico.
Viene identificata dal comando \lstinline!SA!\index{SA} e richiede unicamente le coordinate e il livello di piazzamento:
\begin{lstlisting}
SA x1 y1 l 
\end{lstlisting} 
FidoCadJ fissa internamente il diametro del cerchio in due unità logiche.

Se \lstinline!SA!\index{SA} è seguito da \lstinline!FCJ!, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi \lstinline!TY! che definiscono il nome e il valore associati a questo elemento. 

\subsubsection{PCB Pad}

Una piazzola PCB\index{piazzola PCB} è identificata dal comando \lstinline!PA!\index{PA}
e viene caratterizzata dal suo stile (tondo, rettangolare e rettangolare smussato)
e dal suo foro centrale:
\begin{lstlisting}
PA x1 y1 dx dy si st l 
\end{lstlisting} 
dove il punto $(x_{1},y_{1})$
rappresenta la posizione della piazzola, $d_{x}$ è la larghezza della piazzola 
lungo l'asse $x$), $d_{y}$ è l'altezza (lungo l'asse $y$). 
Il valore $s_{i}$ è il diametro del foro interno, mentre $s_{t}$ è lo stile della piazzola:
\begin{itemize}
\item [0] piazzola ovale
\item [1] piazzola rettangolare
\item [2] piazzola rettangolare con angoli smussati
\end{itemize}
Il valore di $l$ deve essere un numero intero che indica il livello dove la piazzola deve essere posizionata.

Se \lstinline!SA!\index{PA} è seguito da \lstinline!FCJ!, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi \lstinline!TY! che definiscono il nome e il valore associati a questo elemento. 


\subsubsection{PCB track}

La traccia PCB\index{traccia PCB} è essenzialmente un segmento, la cui larghezza può essere specificata. 
Gli angoli del segmento vengono arrotondati per facilitare la connessione con altre tracce PCB o piazzole.
Il comando che viene usato è \lstinline!PL!\index{PL}, con il formato seguente:
\begin{lstlisting} 
PL x1 y1 x2 y2 di l 
\end{lstlisting}
La traccia viene disegnata tra i punti $(x_{1},y_{1})$ e $(x_{2},y_{2})$,
di larghezza complessiva $d_{i}$, e il livello utilizzato è $l$.
Se \lstinline!PL!\index{PL} è seguito da \lstinline!FCJ!, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi \lstinline!TY! che specificano il nome e il valore dell'elemento.

\subsubsection{Macro}

Una macro\index{macro} consiste in un disegno o in un simbolo contenuto in una libreria. 
Generalmente, questo il modo con cui i simboli elettrici vengono sovente rappresentati.
Il comando per fare una chiamata ad una macro è \lstinline!MC!\index{MC},
e la chiamata avviene in questo modo: 
\begin{lstlisting} 
MC x1 y1 o m n 
\end{lstlisting} 
La macro viene disegnata posiziando il riferimento alle coordinate $(x_{1},y_{1})$, 
e l'orientazione è definita tramite il valore di $o$ (moltiplicato per 90\textdegree{} in senso orario) e se $m$ è posto uguale ad 1 
a macro viene specchiata. L'ultimo parametro, $n$, è il nome della macro da richiamare specificata all'interno della libreria, come \emph{library.code}.

Se \lstinline!MC!\index{MC} è seguito da \lstinline!FCJ!, il comando \lstinline!FCJ! dovrebbe essere seguito da due comandi \lstinline!TY! che specificano il nome e il valore dell'elemento.

\section{Estensioni FidoCadJ}
\label{Estensioni FidoCadJ}
Dalla versione 0.21, FidoCadJ ha introdotto alcuni affinamenti al formato originale FidoCAD format\index{estensioni FidoCadJ}. 
Le estensioni FidoCadJ sono rappresentate nel codice dal comando \lstinline!FCJ!\index{FCJ}. 
Questo comando non mai usato da solo, ma significa che FidoCadJ richiede di specificare informazioni addizionali su cosa è stato scritto alla linea precedente.
Facciamo un esempio:
\begin{lstlisting}
[FIDOCAD]
MC 40 30 0 0 080
FCJ
TY 50 35 4 3 0 0 0 * R1
TY 50 40 4 3 0 0 0 * 47k
\end{lstlisting}
La presenza del comando \lstinline!FCJ! indica che il nome e il valore della macro specificate nella prima riga sono date dai due comandi \lstinline!TY! 
che seguono. Solo le coordinate e i font vengono presi in considerazione per la interpretazione del testo. 

FidoCadJ permette di attivare lo ``strict FidoCAD compatibility mode'', tramite il quale vengono disabilitate tutte le estensioni. In questo modo FidoCadJ sarà perfettamente compatibile con il FidoCAD\index{FidoCAD} originale, eccetto per il fatto che FidoCadJ continuerà ad utilizzare la codifica UTF-8\index{UTF-8} \index{codifica} invece della vecchia CP-1252\index{CP-1252} usata da FidoCAD\index{FidoCAD}.
FidoCAD per Windows non può comprendere il significato delle informazioni addizionali portate dal comando \lstinline!FCJ!\index{FCJ}. 
Quando FidoCAD legge un disegno FidoCadJ che contiene delle estensioni restituisce diversi errori e interpreta un disegno differente da quello originale FidoCadJ. 
Il risultato dipende da quale estensione è stata utilizzata: una linea tratteggiata viene resa continua e le frecce non vengono rappresentate. Il testo associato al nome e al valore di una macro verrà, invece, perfettamente interpretato.

La figura~\ref{fig_gyrator_n} mostra cosa può essere ottenuto utilizzando FidoCAD\index{FidoCAD} per leggere il file FidoCadJ che disegna la figura~\ref{fig_gyrator}. Ignorando gli errori rilevati da FidoCAD si osserva che, nonostante ci siano alcuni dettagli mancanti (il tratteggio e la freccia), in generale il disegno è comunque comprensibile. 

\begin{figure}
\includegraphics[width=\textwidth]{gyrator_n}
\caption{La figura~\ref{fig_gyrator} come apparirebbe su FidoCAD per Windows.}
\label{fig_gyrator_n}
\end{figure}

Una differenza importante dal FidoCAD\index{FidoCAD} originale è che FidoCadJ permette di salvare un certo numero di configurazioni di parametri nel file che viene generato. Esse sono quelle che sono usate da \lstinline!FJC!\index{FJC} e dovrebbero essere posizionate all'inizio del file. Il prossimo paragrafo le descriverà. 

 \subsection{Impostazione dei livelli}
L'impostazione dei livelli viene specificata tramite il comando \lstinline!FJC L!\index{FJC L}. FidoCadJ salverà questi dati solo se il livello corrispondente è stato modificato dalle sue impostazioni base. La sintassi è la seguente:  
 \begin{lstlisting}
 FJC L n xxxx yy
\end{lstlisting}
dove $n$ rappresenta il numero del livello (da 0 a 15), $xxxx$ è un intero a 32 bit contenente il codice RGB da usarsi per il livello. Le componenti del rosso sono contenute dal bit 16 al 23, il verde dall'8 al 15 e il blu dal bit 0 al bit 7. 
Il valore $yy$ è una costante a virgola mobile in singola precisione che permette di impostare la trasparenza del livello, compresa tra 0.0 (completamente trasparente) e 1.0 (completamente opaco). 

Una seconda importante informazione è il nome del livello, specificata come segue (se l'utente l'ha modificata): 
\begin{lstlisting} 
FJC N n aaaaa
\end{lstlisting}
dove $n$ rappresenta il numero del livello (da 0 a 15),mentre {\tt aaaa} è il nome da assegnare al livello.
Se il comando non è presente, il nome del livello è quello assegnato da FidoCadJ, dipendentemente dalla lingua impostata e dalle configurazioni locali del sistema operativo in uso. 

\subsection{Impostazioni delle connessioni elettriche}
La dimensione dei cerchietti neri utilizzati per indicare la connessione elettrica possono essere modificati dall'utente.
Quando le estensioni FidoCadJ sono attive, il valore selezionato viene salvato nel file con il comando \lstinline!FJC C!\index{FJC C} come segue:
\begin{lstlisting}
FJC C aaaa
\end{lstlisting}
dove $aaaa$ è un valore in virgola mobile a doppia precisione (positivo) che permette di impostare il diametro della connessione elettrica, in unità logiche FidoCadJ. 

 \subsection{Larghezza del tratto}
La larghezza del tratto per la ``penna'' utilizzata durante il disegno di schemi elettrici può essere modificata. FidoCadJ utilizza il comando \lstinline!FJC A!\index{FJC A} per specificare la larghezza del tratto di linee, ellissi, Bézier, spline, rettangoli and poligoni. 
La larghezza è una costante in doppia precisione.
\begin{lstlisting}
FJC A aaaa
\end{lstlisting}
Dove $aaaa$ rappresenta la larghezza del tratto (in unità logiche). Le impostazioni di base la definiscono pari a 0.5 unità logiche. 
Nelle vecchie versioni di FidoCadJ, il comando \lstinline!FJC B bbbb!\index{FJC B} era usato per specificare la larghezza del tratto per linee curve (ellissi, Bézier). Dalla versione 0.23.6 questa differenza è stata eliminata e questo comando non viene più adottato.

\section{Tolleranza agli errori di sintassi}

FidoCadJ è progettato per tollerare errori\index{tolleranza agli errori} di sintassi. 
Certamente, a meno di non avere la palla di cristallo collegata alla USB\index{palla di cristallo},
il programma non potrà correggere errori, ma si limiterà semplicemente a saltare (e cancellare) le linee errate.
Una eccezione a questo comportamento è che un certo numero di elementi può essere specificato senza il livello,
che verrà assunto come livello\index{livello} 0 (schema elettrico). E' stato implementato ciò per compatibilità con FidoCAD\index{FidoCAD}.


\section{Formati delle librerie}

La struttura dei file di libreria è piuttosto semplice:

\begin{lstlisting} 
[FIDOLIB Librairie de base]
{Syboles de base}
[000 Terminal]
LI 100 100 102 100
EV 102 98 106 102
[010 Terminal +]
LI 100 100 102 100
EV 102 98 106 102
LI 103 100 105 100
LI 104 99 104 101
[020 Terminal -]
LI 100 100 102 100
EV 102 98 106 102
LI 103 100 105 100
...
\end{lstlisting} 

La prima linea contiene, tra parentesi quadre\index{parentesi quadre}, il nome
della libreria  (preceduta da FIDOLIB\index{FIDOLIB}). La seconda linea contiene,
tra parentesi graffe, la categoria della libreria sotto la quale le macro,
specificate più avanti nel file, verranno immagazzinate.
Ogni macro è composta da una intestazione\index{intestazioen} (tra parentesi quadre)
e una sequenza di comandi. L'intestazione è costituita da un \emph{part name} 
(che deve essere unico nella libreria) e la sua descrizione.
Il part name verrà utilizzato all'interno di uno script FidoCadJ, mentre
la descrizione sarà di aiuto all'utente al momento della scelta delle varie macro 
\index{macro} contenute nel file.
I comandi non sono altro che un disegno FidoCadJ, dove sono utilizzate le coordinate (100,100)
quale punto di origine.
Questo punto verrà utilizzato come riferimento quando la macro verrà chiamata.
In uno script FidoCadJ una macro è identificata tramite {}``library.macro''
usato con il comando MC\index{MC}.

Nulla impedisce la chiamata di una macro attraverso un'altra macro.
Tuttavia la ricorsione\index{ricorsione} (per esempio una macro che chiama se stessa) 
deve essere evitata.

Una libreria \textit{non deve contenere}, attraverso le definizioni della macro, alcuna informazione concernente la configurazione di FidoCadJ.
In altre parole il comando \lstinline!FJC!\index{FJC} non deve \textit{mai} apparire dentro un file di libreria.

\section{Librerie standard}

FidoCadJ contiene le due librerie fornite tradizionalmente con FidoCAD\index{FidoCAD}. 
In particolare, esse sono la libreria standard\index{libreria standard}
e la libreria che contiene il simboli PCB\index{libreria PCB}. Un'altra libreria, sviluppata originariamente per FidoCAD FidoCAD\index{FidoCAD} 
e che è di tale comprovata utilità che è stata introdotta quale parte di FidoCadJ è la libreria IHRAM.
IHRAM è l'acronimo di \lstinline!it.hobby.radioamatori.moderato! il quale è un gruppo di discussione Usenet Italiano. 

D'ogni modo, è possibile sovrascrivere il contenuto di queste librerie interne specificando
(in {}``File/Options/Libraries Directory'' menu) una cartella contenente le librerie da caricare.
Se FidoCadJ troverà nella cartella un file di nome \lstinline!FCDstdlib.fcl! 
il suo contenuto verrà utilizzato in luogo della libreria standard.
Se è presente invece un file di nome \lstinline!PCB.fcl! il suo contenuto verrà utilizzato invece della libreria standard PCB interna.
Le altre librerie che hanno altri nomi di file (ma sempre con l'estensione  \lstinline!fcl!) verranno caricate insieme alle librerie standard. 
Se è presente un file di nome \lstinline!IHRAM.FCL! esso verrà caricato in luogo della libreria interna. 
E' anche disponibile una libreria di simboli elettrici chiamata \lstinline!elettrotecnica.fcl!.

FidoCadJ considera le librerie descritte poco sopra quali parti integranti del medesimo. In altre parole, i simboli contenuti nei disegni, appartenenti a queste librerie, non vengono separati. Questo a meno che non venga selezionata l'opzione ``Strict compatibility with FidoCAD''\index{compatibilità con FidoCAD}.
In questo caso solo la libreria originale FidoCAD\index{FidoCAD} viene considerata standard, esattamente come farebbe il software originale. 


\chapter{Conclusioni} 
In questo manuale è stato descritto come utilizzare FidoCadJ per disegnare uno schema elettrico o un semplice PCB.
A questo punto il lettore dovrebbe avere in possesso tutti gli elementi necessari per utilizzare FidoCadJ
efficacemente per i propri scopi.

FidoCadJ può non essere utilizzato unicamente per produrre disegni concernenti il mondo elettronico.
Può essere utilizzato per produrre qualunque tipo di disegno 2D e in molte altre occasioni, a patto che
siano disponibili librerie specifiche.

Il vantaggio di un programma libero è che esso sia completamente a disposizione della comunità.
Per questa ragione, l'opinione del lettore viene tenuta in grande considerazione (se non altro per
capire se il progetto debba essere sviluppato ulteriormente e in che direzione).
Per contattarmi potete partecipare al forum di SourceForge dedicato a FidoCadJ.\footnote{\href{https://sourceforge.net/projects/fidocadj/forums/forum/997486}{https://sourceforge.net/projects/fidocadj/forums/forum/997486}}

\appendix

\chapter{Informazioni relative alla piattaforma specifica} \label{specifics} 


\section{MacOSX}

Una delle più frequenti critiche mosse verso le prime versioni di FidoCadJ 
dagli utenti Macintosh (come me, a proposito) era la scarsa integrazione del
programma con MacOSX. 
Dalla versione 0.21.1, sono stati compiuti degli sforzi per rendere FidoCadJ
più compatibile con l'aspetto e la filosofia delle applicazioni Mac.
Per questa ragione, qualche dettaglio nel programma è leggermente differente quando
FidoCadJ viene eseguito su una piattaforma Apple: 
\begin{itemize}
\item per impostazione di fabbrica FidoCadJ usa il Quaqua%
\footnote{\href{http://www.randelshofer.ch/quaqua/}{http://www.randelshofer.ch/quaqua/}%
}\index{Quaqua} look and feel, quando viene fatta girare l'applicazione completa (FidoCadJ.app\index{FidoCadJ.app}
invece di fidocadj.jar\index{fidocadj.jar}). Poichè Quaqua potrebbe rallentare le prestazioni delle macchine meno
recenti, è possibile disabilitarlo tramite il menu relativo alle impostazioni preferite. 
\item La barra del menu è al proprio posto, cioè sulla sommità dello schermo 
\item La voce di meu {}``Preferences'' e {}``About FidoCadJ'' sono al loro posto, cioè sotto il menu FidoCadJ.
\item Il programma comunica al sistema operativo che può aprire file di tipo \lstinline!.fcd!;
i quali vengono associati alla loro icona specifica, che dovrebbe essere sufficientemente esplicativa.
\end{itemize}

\subsection{Come scaricare ed eseguire FidoCadJ su MacOSX}
FidoCadJ può essere eseguito su una versione di MacOSX\index{MacOSX} più recente della 10.3.9 (Panther\index{Panther}).
La ragione è che FidoCadJ ha bisogno almeno della versione 1.5 di Java, che Apple fornisce con il sistema operativo.
Per ragioni commerciali, Apple non sembra incline ad installare Java sulle ultime versioni di MacOSX\index{MacOSX}.
Questo software è essenziale per FidoCadJ, ma fortunatamente è possibile scaricarlo ed installarlo. 
A tal proposito, Apple non permette di distribuire nel proprio App Store\index{App Store} software basato su Java o distribuito sotto licenza GPL.
Questa è una delle ragioni più importanti per le quali è improbabile che FidoCadJ verrà reso portabile verso iPad\index{iPad} e iPhone\index{iPhone}.

Anche se è possibile utilizzare direttamente l'archivio Java \lstinline!fidocadj.jar! come si farebbe per altri sistemi operativi, su MacOSX è possibile
utilizzare l'applicazione per esso specificatamente progettata. Tutto funziona come per una applicazione nativa: è possibile scaricare una immagine utilizzando il seguente collegamento:  

{\small
\href{http://sourceforge.net/projects/fidocadj/files/FidoCadJ_MacOSX.dmg/download}{http://sourceforge.net/projects/fidocadj/files/FidoCadJ\_ MacOSX.dmg/download}}\\
A questo punto è possibile aprire l'immagine e spostare \lstinline!FidoCadJ.app! nella cartella \lstinline!Applications!, dove l'esecuzione dell'applicativo avviene nello stesso modo come per qualunque altra applicazione Macintosh.
Per disinstallare FidoCadJ, è possibile trascinare semplicemente il file  \lstinline!FidoCadJ.app! nel cestino.


\section{Linux}
\label{installazione_linux} \textsl{di Roby IZ1CYN}\\


Prerequisiti: Installare JRE\index{JRE} 6 da Sun\index{Sun} e/o OpenJDK\index{OpenJDK}
6 JRE\index{JRE} (o versioni precedenti compatibili con le specifiche del programma)
Nel paragrafo \ref{inst_testo} verrà descritto come installare il programma utilizzando unicamente comandi da terminale.

Nel paragrafo \ref{inst_grafica}, verrà utilizzata l'interazione con l'ambiente grafico. 
Una configurazione scadente del Java Runtime Environment determinerà prestazioni scandenti di FidoCadJ\footnote{N.d.r. Vi assicuro che è vero! \textit{Per favore}, non insultatemi se la vostra distribuzione di Linux viene fornita con una versione inaffidabile di Java.}

\subsection{Usare una piattaforma qualunque, da terminale}

\label{inst_testo} Scaricare il programma utilizzando il comando \lstinline!wget!:


%\lstset{language=plain,%
%	basicstyle=\tiny\ttfamily}
	
\begin{lstlisting}
$ wget http://downloads.sourceforge.net/project/fidocadj/fidocadj.jar?use_mirror=garr
--00:48:18--  http://downloads.sourceforge.net/project/fidocadj/fidocadj.jar?use_mirror=garr
           => `fidocadj.jar?use_mirror=garr'
Resolution of downloads.sourceforge.net is being done... 216.34.181.59
Connection to downloads.sourceforge.net|216.34.181.59:80... connected.
HTTP request sent, waiting for answer... 302 Found
URL: http://garr.dl.sourceforge.net/project/fidocadj/fidocadj.jar
--00:48:24--  http://garr.dl.sourceforge.net/project/fidocadj/fidocadj.jar
           => `fidocadj.jar'
Resolution of garr.dl.sourceforge.net is being done... 193.206.140.34
Connection to garr.dl.sourceforge.net|193.206.140.34:80... connected.
HTTP request sent, waiting for answer... 200 OK
Length: 343,207 (335K) [application/java-archive]

100%[====================================>] 343,207      422.48K/s             

00:48:30 (420.55 KB/s) - "fidocadj.jar" saved [343207/343207]
$
\end{lstlisting}
\lstset{
	basicstyle=\small\ttfamily}

Alternativamente, o se si sono riscontrati dei problemi, è possibile scaricare il file tramite qualunque browser dall'URL seguente:

\href{http://sourceforge.net/projects/fidocadj/files/fidocadj.jar/download}{http://sourceforge.net/projects/fidocadj/files/fidocadj.jar/download}

e salvare il file nella propria cartella \lstinline!/home/!.
	
Creiamo ora una nuova cartella (ma come prima cosa accediamo ai privilegi si superuser\index{superuser} tramite \lstinline!su! o \lstinline!sudo -s!):

\begin{lstlisting}
# mkdir /usr/bin/fidocadj
\end{lstlisting}

\dots\ spostiamo ora dentro di essa il file precedentemente scaricato (sostituendo \lstinline!<user>! con il nome utente dell'account presso il quale il file è stato scaricato: 

\begin{lstlisting}
# mv /home/<user>/fidocadj.jar /usr/bin/fidocadj
\end{lstlisting}

Rendiamo eseguibile il file

\begin{lstlisting}
# chmod +x /usr/bin/fidocadj/fidocadj.jar
\end{lstlisting}

Non dimentichiamoci di tornare ad essere utenti normali:

\begin{lstlisting}
# exit
\end{lstlisting}

Finalmente possiamo eseguire il programma:

\begin{lstlisting}
$ /usr/bin/fidocadj/fidocadj.jar
$
\end{lstlisting}
%

\subsection{Su di un sistema grafico}
\label{inst_grafica}
In questo esempio, la piattaforma grafica è Ubuntu\index{Ubuntu} 8.04, ma le cose non cambiano molto usando altre versioni: 

\begin{itemize}
\item {Scarichiamo il file tramite un browser, o con Gwget o strumenti simili.}

\item {Possiamo quindi avviare il nostro File Manager (Nautilus, Konqueror\dots) con i privilegi di root (qualora non esista un comando specifico nel menu, è possibile avviarlo dal terminale utilizzando il comando \lstinline!sudo nautilus!). 
Creiamo quindi la seguente cartella:
\begin{lstlisting}
/usr/bin/fidocadj
\end{lstlisting}
e quindi spostiamoci dentro il file scaricato. Sarà da qualche parte in:
\begin{lstlisting}
/home/<user>/
\end{lstlisting}}

\begin{figure}
\centering
\includegraphics[width=.8\textwidth]{permessi}
\caption{L'impostazione dei permessi del file, su Ubuntu\index{Ubuntu} 8.04.}
\label{fig_permessi}
\end{figure}

\item {Facciamo ora click con il tasto destro sul file, dalla finestra che comparità selezioniamo ``rights'' e aggiungiamo un segno di spunta 
a ``Allow the execution of the file as a program'', come mostrato in figura~\ref{fig_permessi}}

\begin{figure}
\centering
\includegraphics[width=.8\textwidth]{java6}
\caption{Impostazione dei diritti di esecuzione per la Java virtual machine, su Ubuntu\index{Ubuntu} 8.04.}
\label{fig_java6}
\end{figure}

\item {Selezioniamo quindi ``Open as'' e poi selezioniamo ``OpenJDK Java 6 Runtime'' o ``Sun Java 6 Runtime'', come si può vedere in figura~\ref{fig_java6}.}

\item {Clicchiamo quindi su ``Close'' e siamo pronti all'esecuzione di FidoCadJ: facciamo un semplice doppio click sull'eseguibile oppure aggiungiamolo al menu principale. Il comando da aggiungere è \lstinline!/usr/bin/fidocadj/fidocadj.jar!.}
\end{itemize}


\section{Windows}

Dalla versione 0.23, cioè da quando FidoCadJ riconosce la piattaforma Windows, viene usato il Look and Feel nativo per questo sistema.

 \subsection{come scaricare ed eseguire FidoCadJ}
Molto spesso, avendo Java installato, è sufficiente scaricare il file \lstinline!fidocadj.jar! ed eseguirlo con un doppio click.
Se, dopo averlo scaricato, il sistema operativo lo riconosce come un archivio \lstinline!zip! probabilmente Java non è installato.
Oracle permette di scaricare ed eseguire una versione gratuita di java da: 

\href{http://www.java.com/it/download/}{http://www.java.com/it/download/}

%\manualmark 
%\markboth{\spacedlowsmallcaps{\indexname}}% 
%{\spacedlowsmallcaps{\indexname}} 
%\refstepcounter{dummy} 
%\pagestyle{scrheadings} 
%\addcontentsline{toc}{chapter}{\tocEntry{\indexname}} 


\chapter{FidoCadJ art} \label{chap_fidocadj_art} 

\noindent
\resizebox{\textwidth}{!}{\input{images/steinmetz.pgf}}
\label{steinmetz}
Uno dei padri dell'analisi circuitale, in un ritratto di Zeno Martini.

\noindent
\includegraphics[width=\textwidth]{images/tiger}
\begin{center}
Tiger, tiger, burning bright... Di Igor Arbanas ``elettrodomus''.
\end{center}

\printindex 
\cleardoublepage
\thispagestyle{empty}
\mbox{ }
\vfill
Questo manuale è stato scritto utilizzando \textsc{pdf}\LaTeX\ su MacOSX.
Il listing è stato composto utilizzando il pacchetto \href{http://www.ctan.org/tex-archive/macros/latex/contrib/listings/}{listings}. 
Il pacchetto \href{http://www.ctan.org/tex-archive/graphics/pgf/}{pgf} è stato utilizzato per la figura~\ref{fig_schema} come anche per il ritratto a pagina\pageref{steinmetz}. Tutti questi pacchetti sono disponibili come archivi CTAN. 


%This work has been composed with the \emph{Palatino} font, by Hermann Zapf. 


\end{document}
